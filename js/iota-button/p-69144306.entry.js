import{r as t,h as n}from"./p-d1dcb9ac.js";import{c as e,a as r,F as i,g as o}from"./p-ff2ca413.js";const s=class{constructor(n){t(this,n)}render(){return n("div",{class:"bg-white border py-2 flex items-center flex-col"},n("div",{class:"text-lg self-start"},"Listening to payments..."),n("div",{class:"pending-dots block relative w-20 h-5 mt-4"},n("div",{class:"absolute top-0 mt-1 w-3 h-3 rounded-full bg-green-500"}),n("div",{class:"absolute top-0 mt-1 w-3 h-3 rounded-full bg-green-500"}),n("div",{class:"absolute top-0 mt-1 w-3 h-3 rounded-full bg-green-500"}),n("div",{class:"absolute top-0 mt-1 w-3 h-3 rounded-full bg-green-500"})))}};s.style=".w-20 { width: 5rem; } \n.w-3 { width: 0.75rem; } \n.text-lg { font-size: 1.125rem; } \n.top-0 { top: 0; } \n.relative { position: relative; } \n.absolute { position: absolute; } \n.py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; } \n.mt-4 { margin-top: 1rem; } \n.mt-1 { margin-top: 0.25rem; } \n.h-5 { height: 1.25rem; } \n.h-3 { height: 0.75rem; } \n.self-start { align-self: flex-start; } \n.items-center { align-items: center; } \n.flex-col { flex-direction: column; } \n.flex { display: flex; } \n.block { display: block; } \n.border { border-width: 1px; } \n.rounded-full { border-radius: 9999px; } \n.bg-green-500 { background-color: #48bb78; } \n.bg-white { background-color: #fff; } \n .pending-dots div{  animation-timing-function:cubic-bezier(0, 1, 1, 0)}.pending-dots div:nth-child(1){  left:8px;  animation:pending-dots1 0.6s infinite}.pending-dots div:nth-child(2){  left:8px;  animation:pending-dots2 0.6s infinite}.pending-dots div:nth-child(3){  left:32px;  animation:pending-dots2 0.6s infinite}.pending-dots div:nth-child(4){  left:56px;  animation:pending-dots3 0.6s infinite}@keyframes pending-dots1{  0%{    transform:scale(0)  }  100%{    transform:scale(1)  }}@keyframes pending-dots3{  0%{    transform:scale(1)  }  100%{    transform:scale(0)  }}@keyframes pending-dots2{  0%{    transform:translate(0, 0)  }  100%{    transform:translate(24px, 0)  }}";const a=class{constructor(n){t(this,n),this.disabled=!1}render(){return n("button",{disabled:this.disabled,class:"bg-blue-500 border-transparent hover:bg-blue-700 text-white font-bold py-3 px-4 rounded inline-flex items-center cursor-pointer"},n("span",null,this.label))}};a.style=".text-white { color: #fff; } \n.px-4 { padding-left: 1rem; padding-right: 1rem; } \n.py-3 { padding-top: 0.75rem; padding-bottom: 0.75rem; } \n.font-bold { font-weight: 700; } \n.items-center { align-items: center; } \n.inline-flex { display: inline-flex; } \n.cursor-pointer { cursor: pointer; } \n.rounded { border-radius: 0.25rem; } \n.border-transparent { border-color: transparent; } \n.hover\\:bg-blue-700:hover { background-color: #2b6cb0; } \n.bg-blue-500 { background-color: #4299e1; } \n ";const c=class{constructor(n){t(this,n),this.disabled=!1}render(){return n("button",{disabled:this.disabled,class:"rounded-md border-yellow-400 hover:border-yellow-300 border-solid font-inherit cursor-pointer font-mono py-2 px-6 w-50 bg-yellow-400 hover:bg-yellow-300 text-black shadow-none font-bold text-center"},n("div",{class:"flex flex-row justify-around space-x-4"},n("div",{class:"flex text-left items-center"},n("span",{class:"text-sm font-light mr-2"},this.label," with"),n("span",{class:"text-lg"},"IOTA"))))}};c.style='.text-lg { font-size: 1.125rem; } \n.text-sm { font-size: 0.875rem; } \n.text-black { color: #000; } \n.text-center { text-align: center; } \n.text-left { text-align: left; } \n.shadow-none { box-shadow: none; } \n.px-6 { padding-left: 1.5rem; padding-right: 1.5rem; } \n.py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; } \n.mr-2 { margin-right: 0.5rem; } \n.font-bold { font-weight: 700; } \n.font-light { font-weight: 300; } \n.font-mono { font-family: Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; } \n.justify-around { justify-content: space-around; } \n.items-center { align-items: center; } \n.flex-row { flex-direction: row; } \n.flex { display: flex; } \n.cursor-pointer { cursor: pointer; } \n.border-solid { border-style: solid; } \n.rounded-md { border-radius: 0.375rem; } \n.hover\\:border-yellow-300:hover { border-color: #faf089; } \n.border-yellow-400 { border-color: #f6e05e; } \n.hover\\:bg-yellow-300:hover { background-color: #faf089; } \n.bg-yellow-400 { background-color: #f6e05e; } \n ';const u=class{constructor(n){t(this,n),this.disabled=!1}render(){return n("button",{disabled:this.disabled,class:"rounded-md border-black hover:border-gray-800 border-solid font-inherit cursor-pointer font-mono py-2 px-6 w-50 bg-black hover:bg-gray-800 text-white shadow-none font-bold text-center"},n("div",{class:"flex flex-row justify-around space-x-8"},n("div",{class:"flex text-left items-center"},n("span",{class:"text-sm font-light mr-2"},this.label," with"),n("span",{class:"text-lg"},"IOTA"))))}};u.style='.text-lg { font-size: 1.125rem; } \n.text-sm { font-size: 0.875rem; } \n.text-white { color: #fff; } \n.text-center { text-align: center; } \n.text-left { text-align: left; } \n.shadow-none { box-shadow: none; } \n.px-6 { padding-left: 1.5rem; padding-right: 1.5rem; } \n.py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; } \n.mr-2 { margin-right: 0.5rem; } \n.font-bold { font-weight: 700; } \n.font-light { font-weight: 300; } \n.font-mono { font-family: Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; } \n.justify-around { justify-content: space-around; } \n.items-center { align-items: center; } \n.flex-row { flex-direction: row; } \n.flex { display: flex; } \n.cursor-pointer { cursor: pointer; } \n.border-solid { border-style: solid; } \n.rounded-md { border-radius: 0.375rem; } \n.hover\\:border-gray-800:hover { border-color: #2d3748; } \n.border-black { border-color: #000; } \n.hover\\:bg-gray-800:hover { background-color: #2d3748; } \n.bg-black { background-color: #000; } \n ';class l{static register(t,n){this._services[t]=n}static unregister(t){delete this._services[t]}static get(t){return!this._instances[t]&&this._services[t]&&(this._instances[t]=this._services[t](t)),this._instances[t]}}function d(){return l.get("api-client")}function f(t){window.open(h(t))}function h(t){return"https://explorer.iota.org/mainnet/addr/"+t}l._services={},l._instances={};class p{static formatBest(t,n=2){return p.formatUnits(t,p.calculateBest(t),n)}static formatUnits(t,n,e=2){if(!p.UNIT_MAP[n])throw new Error(`Unrecognized unit ${n}`);return t?"i"===n?`${t} i`:`${p.convertUnits(t,"i",n).toFixed(e)} ${n}`:`0 ${n}`}static calculateBest(t){let n="i";if(!t)return n;const e=Math.abs(t).toString().length;return e>p.UNIT_MAP.Pi.dp?n="Pi":e>p.UNIT_MAP.Ti.dp?n="Ti":e>p.UNIT_MAP.Gi.dp?n="Gi":e>p.UNIT_MAP.Mi.dp?n="Mi":e>p.UNIT_MAP.Ki.dp&&(n="Ki"),n}static convertUnits(t,n,e){if(!t)return 0;if(!p.UNIT_MAP[n])throw new Error(`Unrecognized fromUnit ${n}`);if(!p.UNIT_MAP[e])throw new Error(`Unrecognized toUnit ${e}`);if("i"===n&&t%1!=0)throw new Error("If fromUnit is 'i' the value must be an integer value");if(n===e)return Number(t);const r=t<0?-1:1,i=Math.abs(Number(t))*p.UNIT_MAP[n].val/p.UNIT_MAP[e].val,o=p.UNIT_MAP[e].dp;let s=i.toString();s.includes("e")&&(s=i.toFixed(Number.parseInt(s.split("-")[1],10)));const a=s.split(".");return 1===a.length&&a.push("0"),a[1]=a[1].slice(0,o),Number.parseFloat(`${a[0]}.${a[1]}`)*r}}p.UNIT_MAP={i:{val:1,dp:0},Ki:{val:1e3,dp:3},Mi:{val:1e6,dp:6},Gi:{val:1e9,dp:9},Ti:{val:1e12,dp:12},Pi:{val:1e15,dp:15}};class b{static printIotaBasedOnFx(t,n){return b.formatLargeNumbers((Math.round(t/1e6*n*100)/100).toString())}static formatLargeNumbers(t){return t.replace(/\B(?=(\d{3})+(?!\d))/g,",")}static fCurrencyService(){return l.get("currency")}static amountSepByDecimal(t){return b.formatLargeNumbers(t.toString()).split(".")}static convertFiatToIota(t,n){return Math.ceil(t*n*1e6)}static printIotaAmount(t,n,e,r=2){return n?p.formatBest(b.convertFiatToIota(t,e),2):p.formatBest(t,r)}static printAmount(t,n,e=2){return t?b.fCurrencyService().getSymbol(t)+b.formatLargeNumbers(n.toString()):p.formatBest(n,e)}static printBalanceAmount(t,n,e,r=2){return isNaN(t)?"":n?b.fCurrencyService().getSymbol(n)+b.printIotaBasedOnFx(t,e):p.formatBest(t,r)}}var m=e((function(t){t.exports=function(){var t=6e4,n=36e5,e="millisecond",r="second",i="minute",o="hour",s="day",a="week",c="month",u="quarter",l="year",d="date",f="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(t,n,e){var r=String(t);return!r||r.length>=n?t:""+Array(n+1-r.length).join(e)+t},v={s:m,z:function(t){var n=-t.utcOffset(),e=Math.abs(n),r=Math.floor(e/60),i=e%60;return(n<=0?"+":"-")+m(r,2,"0")+":"+m(i,2,"0")},m:function t(n,e){if(n.date()<e.date())return-t(e,n);var r=12*(e.year()-n.year())+(e.month()-n.month()),i=n.clone().add(r,c),o=e-i<0,s=n.clone().add(r+(o?-1:1),c);return+(-(r+(e-i)/(o?i-s:s-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:l,w:a,d:s,D:d,h:o,m:i,s:r,ms:e,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",x={};x[g]=b;var y=function(t){return t instanceof D},w=function(t,n,e){var r;if(!t)return g;if("string"==typeof t)x[t]&&(r=t),n&&(x[t]=n,r=t);else{var i=t.name;x[i]=t,r=i}return!e&&r&&(g=r),r||!e&&g},k=function(t,n){if(y(t))return t.clone();var e="object"==typeof n?n:{};return e.date=t,e.args=arguments,new D(e)},M=v;M.l=w,M.i=y,M.w=function(t,n){return k(t,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var D=function(){function b(t){this.$L=w(t.locale,null,!0),this.parse(t)}var m=b.prototype;return m.parse=function(t){this.$d=function(t){var n=t.date,e=t.utc;if(null===n)return new Date(NaN);if(M.u(n))return new Date;if(n instanceof Date)return new Date(n);if("string"==typeof n&&!/Z$/i.test(n)){var r=n.match(h);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return e?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(n)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return M},m.isValid=function(){return!(this.$d.toString()===f)},m.isSame=function(t,n){var e=k(t);return this.startOf(n)<=e&&e<=this.endOf(n)},m.isAfter=function(t,n){return k(t)<this.startOf(n)},m.isBefore=function(t,n){return this.endOf(n)<k(t)},m.$g=function(t,n,e){return M.u(t)?this[n]:this.set(e,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,n){var e=this,u=!!M.u(n)||n,f=M.p(t),h=function(t,n){var r=M.w(e.$u?Date.UTC(e.$y,n,t):new Date(e.$y,n,t),e);return u?r:r.endOf(s)},p=function(t,n){return M.w(e.toDate()[t].apply(e.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(n)),e)},b=this.$W,m=this.$M,v=this.$D,g="set"+(this.$u?"UTC":"");switch(f){case l:return u?h(1,0):h(31,11);case c:return u?h(1,m):h(0,m+1);case a:var x=this.$locale().weekStart||0,y=(b<x?b+7:b)-x;return h(u?v-y:v+(6-y),m);case s:case d:return p(g+"Hours",0);case o:return p(g+"Minutes",1);case i:return p(g+"Seconds",2);case r:return p(g+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,n){var a,u=M.p(t),f="set"+(this.$u?"UTC":""),h=(a={},a[s]=f+"Date",a[d]=f+"Date",a[c]=f+"Month",a[l]=f+"FullYear",a[o]=f+"Hours",a[i]=f+"Minutes",a[r]=f+"Seconds",a[e]=f+"Milliseconds",a)[u],p=u===s?this.$D+(n-this.$W):n;if(u===c||u===l){var b=this.clone().set(d,1);b.$d[h](p),b.init(),this.$d=b.set(d,Math.min(this.$D,b.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},m.set=function(t,n){return this.clone().$set(t,n)},m.get=function(t){return this[M.p(t)]()},m.add=function(e,u){var d,f=this;e=Number(e);var h=M.p(u),p=function(t){var n=k(f);return M.w(n.date(n.date()+Math.round(t*e)),f)};if(h===c)return this.set(c,this.$M+e);if(h===l)return this.set(l,this.$y+e);if(h===s)return p(1);if(h===a)return p(7);var b=(d={},d[i]=t,d[o]=n,d[r]=1e3,d)[h]||1,m=this.$d.getTime()+e*b;return M.w(m,this)},m.subtract=function(t,n){return this.add(-1*t,n)},m.format=function(t){var n=this;if(!this.isValid())return f;var e=t||"YYYY-MM-DDTHH:mm:ssZ",r=M.z(this),i=this.$locale(),o=this.$H,s=this.$m,a=this.$M,c=i.weekdays,u=i.months,l=function(t,r,i,o){return t&&(t[r]||t(n,e))||i[r].substr(0,o)},d=function(t){return M.s(o%12||12,t,"0")},h=i.meridiem||function(t,n,e){var r=t<12?"AM":"PM";return e?r.toLowerCase():r},b={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:M.s(a+1,2,"0"),MMM:l(i.monthsShort,a,u,3),MMMM:l(u,a),D:this.$D,DD:M.s(this.$D,2,"0"),d:String(this.$W),dd:l(i.weekdaysMin,this.$W,c,2),ddd:l(i.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(o),HH:M.s(o,2,"0"),h:d(1),hh:d(2),a:h(o,s,!0),A:h(o,s,!1),m:String(s),mm:M.s(s,2,"0"),s:String(this.$s),ss:M.s(this.$s,2,"0"),SSS:M.s(this.$ms,3,"0"),Z:r};return e.replace(p,(function(t,n){return n||b[t]||r.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(e,d,f){var h,p=M.p(d),b=k(e),m=(b.utcOffset()-this.utcOffset())*t,v=this-b,g=M.m(this,b);return g=(h={},h[l]=g/12,h[c]=g,h[u]=g/3,h[a]=(v-m)/6048e5,h[s]=(v-m)/864e5,h[o]=v/n,h[i]=v/t,h[r]=v/1e3,h)[p]||v,f?g:M.a(g)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return x[this.$L]},m.locale=function(t,n){if(!t)return this.$L;var e=this.clone(),r=w(t,n,!0);return r&&(e.$L=r),e},m.clone=function(){return M.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},b}(),$=D.prototype;return k.prototype=$,[["$ms",e],["$s",r],["$m",i],["$H",o],["$W",s],["$M",c],["$y",l],["$D",d]].forEach((function(t){$[t[1]]=function(n){return this.$g(n,t[0],t[1])}})),k.extend=function(t,n){return t.$i||(t(n,D,k),t.$i=!0),k},k.locale=w,k.isDayjs=y,k.unix=function(t){return k(1e3*t)},k.en=x[g],k.Ls=x,k.p={},k}()})),v=e((function(t){var n;t.exports=(n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},function(t,e,r){var i=e.prototype,o=i.format;r.en.formats=n,i.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var e=this.$locale().formats,r=function(t,e){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,i){var o=i&&i.toUpperCase();return r||e[i]||n[i]||e[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,n,e){return n||e.slice(1)}))}))}(t,void 0===e?{}:e);return o.call(this,r)}})})),g=e((function(t){t.exports=function(t,n,e){t=t||{};var r=n.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(t,n,e,i){return r.fromToBase(t,n,e,i)}e.en.relativeTime=i,r.fromToBase=function(n,r,o,s,a){for(var c,u,l,d=o.$locale().relativeTime||i,f=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],h=f.length,p=0;p<h;p+=1){var b=f[p];b.d&&(c=s?e(n).diff(o,b.d,!0):o.diff(n,b.d,!0));var m=(t.rounding||Math.round)(Math.abs(c));if(l=c>0,m<=b.r||!b.r){m<=1&&p>0&&(b=f[p-1]);var v=d[b.l];a&&(m=a(""+m)),u="string"==typeof v?v.replace("%d",m):v(m,r,b.l,l);break}}if(r)return u;var g=l?d.future:d.past;return"function"==typeof g?g(u):g.replace("%s",u)},r.to=function(t,n){return o(t,n,this,!0)},r.from=function(t,n){return o(t,n,this)};var s=function(t){return t.$u?e.utc():e()};r.toNow=function(t){return this.to(s(this),t)},r.fromNow=function(t){return this.from(s(this),t)}}}));m.extend(v),m.extend(g);class x{static printDateTime(t){return m(1e3*t).format("LLL")}static fromNow(t){return m(1e3*t).fromNow()}}const y=class{constructor(n){t(this,n),this.balanceHistory=[],this.defAmounts=[1,5,10,50],this.showForeignCurrency=!1,this.paymentStep=!1}connectedCallback(){this.showForeignCurrency=!!this.currency,this.showForeignCurrency||this.defAmounts.forEach(((t,n)=>{this.defAmounts[n]=1e6*t})),this.amount||(this.amount=this.defAmounts[0])}getPrintAmount(t){return this.showForeignCurrency?b.printAmount(this.currency,t):b.printIotaAmount(t,this.currency,this.currencyExchangeRate,0)}renderCircleValue(t){return n("label",{class:"label"},n("input",{type:"radio",class:"bg-gray-100 rounded-lg",name:"size",value:t,checked:this.amount===t,onChange:t=>this.handleDonation(t)}),n("span",null,this.getPrintAmount(t)))}handleDonation(t,n=!1){const e=parseFloat(t.target.value);this.customDonationValue=isNaN(e)?"":e,this.amount=this.customDonationValue>0?this.customDonationValue:this.defAmounts[0],this.defAmounts.indexOf(this.customDonationValue)>-1&&!1===n&&(this.customDonationValue="")}toggleCurrency(){this.currency&&(this.showForeignCurrency=!this.showForeignCurrency)}processToPayment(){this.paymentStep=!0}highlightCurrency(t){return"f"===t&&this.showForeignCurrency||"iota"===t&&!this.showForeignCurrency?"font-bold text-gray-500":""}renderTotalDonationAmount(){return this.getTotalDonatatedAmount()>0?n("p",{class:"foot_text flex flex-col text-center"},"Total donated amount",n("a",{onClick:()=>f(this.address)},n("b",{class:"text-gray-700"}," ",b.printBalanceAmount(this.getTotalDonatatedAmount(),this.currency,this.currencyExchangeRate)))):""}getTotalDonatatedAmount(){var t;let n=0;if((null===(t=this.balanceHistory)||void 0===t?void 0:t.length)>0)for(let t of this.balanceHistory)n+=t.amount;return n}renderLastDonationTimestamp(){var t;return(null===(t=this.balanceHistory)||void 0===t?void 0:t[0])?n("p",{class:"foot_text flex flex-col text-center"},"Last donation ",n("b",{class:"text-gray-700"},x.fromNow(this.balanceHistory[0].timestamp))):""}renderTransactionalHistory(t){return n("span",null,n("a",{href:h(t.outputId),target:"new"},x.fromNow(t.timestamp))," - ",p.formatBest(t.amount,2))}renderDonationWidget(){return n("div",{class:"font-mono w-full"},n("div",{class:"step_1 p-2 mt-2"},n("div",{class:"font-medium tracking-wide text-center text-gray-700"},n("div",{class:"text-3xl font-mono p-4"},"Donate ",this.merchant?n("span",null,"to"):""),n("div",{class:"text-xl"},this.merchant)),n("form",{class:"flex-auto p-4"},n("div",{class:"flex flex-wrap"},n("div",{class:"w-full flex-none text-lg font-medium text-gray-400 py-2"},n("a",{class:"cursor-pointer hover:underline"+this.highlightCurrency("iota"),onClick:()=>this.toggleCurrency()},"IOTA"),this.currency?n("span",null,"/",n("a",{class:"cursor-pointer hover:underline"+this.highlightCurrency("f"),onClick:()=>this.toggleCurrency()},this.currency)):"")),n("div",{class:"flex items-baseline mb-6"},n("div",{class:"label_box space-x-2 space-y-2 flex items-center text-sm w-full justify-between flex-wrap"},this.defAmounts.map((t=>this.renderCircleValue(t))),n("div",{class:"input-box border rounded-sm border-solid mt-2 w-full"},n("span",{class:"prefix font-mono text-sm"},this.showForeignCurrency?b.fCurrencyService().getSymbol(this.currency):"i"),n("input",{type:"number",onInput:t=>this.handleDonation(t,!0),value:this.customDonationValue,class:"font-mono text-md "+(this.customDonationValue>0?"input-selected":"")})))),n("div",{class:"flex space-x-3 mb-4 text-sm font-medium"},n("div",{class:"flex-auto flex space-x-3"},n("button",{onClick:()=>this.processToPayment(),class:"font-mono cursor-pointer w-full flex items-center justify-center border-solid text-lg rounded-sm bg-yellow-400 hover:bg-yellow-300 border-yellow-400 hover:border-yellow-300 h-12",type:"button"},"Donate ",this.getPrintAmount(this.amount)))),n("div",{class:"footer_container text-sm text-gray-500 leading-8 pt-2"},this.renderTotalDonationAmount(),this.renderLastDonationTimestamp()))))}render(){if(this.paymentStep){if(this.showForeignCurrency)return n("ibtn-payment-process",{class:"content",currency:this.currency,address:this.address,balanceHistory:this.balanceHistory,amount:this.amount,balance:this.balance,currencyExchangeRate:this.currencyExchangeRate,usdExchangeRate:this.usdExchangeRate});{let t=this.amount;return this.currency&&(t=b.convertFiatToIota(t,this.currencyExchangeRate)),n("ibtn-payment-process",{class:"content",address:this.address,balanceHistory:this.balanceHistory,amount:t,balance:this.balance,currencyExchangeRate:this.currencyExchangeRate,usdExchangeRate:this.usdExchangeRate})}}return this.renderDonationWidget()}};y.style='.w-full { width: 100%; } \n.tracking-wide { letter-spacing: 0.025em; } \n.hover\\:underline:hover { text-decoration: underline; } \n.text-3xl { font-size: 1.875rem; } \n.text-xl { font-size: 1.25rem; } \n.text-lg { font-size: 1.125rem; } \n.text-sm { font-size: 0.875rem; } \n.text-gray-700 { color: #4a5568; } \n.text-gray-500 { color: #a0aec0; } \n.text-gray-400 { color: #cbd5e0; } \n.text-center { text-align: center; } \n.pt-2 { padding-top: 0.5rem; } \n.py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; } \n.p-4 { padding: 1rem; } \n.p-2 { padding: 0.5rem; } \n.mb-6 { margin-bottom: 1.5rem; } \n.mb-4 { margin-bottom: 1rem; } \n.mt-2 { margin-top: 0.5rem; } \n.leading-8 { line-height: 2rem; } \n.h-12 { height: 3rem; } \n.font-medium { font-weight: 500; } \n.font-mono { font-family: Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; } \n.flex-none { flex: none; } \n.flex-auto { flex: 1 1 auto; } \n.justify-between { justify-content: space-between; } \n.justify-center { justify-content: center; } \n.items-baseline { align-items: baseline; } \n.items-center { align-items: center; } \n.flex-wrap { flex-wrap: wrap; } \n.flex-col { flex-direction: column; } \n.flex { display: flex; } \n.cursor-pointer { cursor: pointer; } \n.border { border-width: 1px; } \n.border-solid { border-style: solid; } \n.rounded-lg { border-radius: 0.5rem; } \n.rounded-sm { border-radius: 0.125rem; } \n.hover\\:border-yellow-300:hover { border-color: #faf089; } \n.border-yellow-400 { border-color: #f6e05e; } \n.hover\\:bg-yellow-300:hover { background-color: #faf089; } \n.bg-yellow-400 { background-color: #f6e05e; } \n.bg-gray-100 { background-color: #f7fafc; } \n @media only screen and (min-width: 641px) {  .step_1 {    padding: 2rem;  }}@media only screen and (min-width: 641px) {  .label_box {    flex-wrap: nowrap;  }}.button {  border-radius: 0.25rem;  color: #fff;  margin: 1rem;  padding: 1rem;  text-decoration: none;  background-color: #4261ff;  width: 50%;}input[type=radio] {  display: none;}input:checked + span {  background-color: #333;  color: white;  box-shadow: 0 1px 3px 0 rgba(255, 255, 255, 0.33);}.label {  color: #333;}.label span {  display: inline-block;  width: 4rem;  height: 4rem;  vertical-align: middle;  cursor: pointer;  border-radius: 0.25rem;  background-repeat: no-repeat;  background-position: center;  text-align: center;  line-height: 4rem;  overflow: hidden;  background: #d1d5db;}@media only screen and (min-width: 641px) {  .footer_container {    line-height: 1rem;  }}@media only screen and (min-width: 641px) {  .foot_text {    display: block;    text-align: left;  }}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button {  -webkit-appearance: none;  margin: 0;  outline: none;}input:focus,.input-selected {  outline: none;  border-color: #333 !important;  background: #333 !important;  color: white !important;}::placeholder {  color: #cbd5e0;}.input-box {  display: flex;  align-items: center;  border-color: #a0aec0;  background: #d1d5db;  overflow: hidden;  padding: 0.375rem 0.75rem;}@media only screen and (min-width: 641px) {  .input-box {    width: 4rem;    margin-top: 0;  }}.input-box .prefix {  font-weight: 300;  line-height: 3rem;  font-size: 1rem;}.input-box input {  flex-grow: 1;  background: transparent;  border: none;  outline: none;  line-height: 3rem;  width: 100%;  font-size: 0.875rem !important;}.input-box:focus-within {  border-color: #777;  background: #333;  color: white;}';const w=class{constructor(n){t(this,n)}render(){return n("div",null,n("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})))}};w.style=".w-8 { width: 2rem; } \n.h-8 { height: 2rem; } \n @media only screen and (max-width: 640px){  .close-text{    display:none  }}";const k=class{constructor(n){t(this,n),this.balanceHistory=[]}getAmountForWalet(){return this.currency?b.convertFiatToIota(this.amount,this.currencyExchangeRate):this.amount}renderTransactionalHistory(t){return n("span",null,n("a",{class:"no-underline text-gray-600",href:h(t.outputId),target:"new"},x.fromNow(t.timestamp))," - ",p.formatBest(t.amount,2))}tempWarningDueFireflyIssue(){setTimeout((()=>{prompt("Once Firefly fixes: https://github.com/iotaledger/firefly/pull/773 this will be automated. For now, please enter values manually.\n\n---\nAmount: "+p.formatUnits(this.getAmountForWalet(),"Mi")+"\nAddress: ",this.address)}),1e3)}render(){return n("div",{class:"font-mono w-full"},n("div",{class:"step_2 p-2 mt-8"},n("div",{class:"font-medium tracking-wide text-center text-gray-700"},n("div",{class:"text-3xl font-mono p-4"},n("span",null,"You will be charged "),this.currency?n("span",null,b.fCurrencyService().getSymbol(this.currency),b.amountSepByDecimal(this.amount)[0],parseInt(b.amountSepByDecimal(this.amount)[1])>0?n("span",{class:"text-xl align-top"},".",b.amountSepByDecimal(this.amount)[1]):"",n("p",{class:"text-sm"},"(1 ",this.currency," ≈ MIOTA ",this.currencyExchangeRate||this.usdExchangeRate,")")):n("span",null,n("span",null,b.printIotaAmount(this.amount,this.currency,this.currencyExchangeRate))))),n("div",{class:"flex-auto p-4"},n("div",{class:"text-lg py-2"},"Pay with..."),n("div",{class:"flex space-x-3 mb-4 text-sm font-medium"},n("div",{class:"flex-auto flex space-x-3"},n("a",{class:"cursor-pointer font-mono no-underline w-full flex items-center justify-center text-lg rounded-sm bg-blue-600 text-white h-12 hover:bg-blue-800",onClick:()=>this.tempWarningDueFireflyIssue(),href:i.getPayUrl(this.address,this.getAmountForWalet())},"Firefly wallet"))),n("div",{class:"my-6"},n("ibtn-awaiting",{amount:p.formatBest(this.balance,2)})),this.balanceHistory.length>0?n("div",{class:"foot_text flex flex-col text-center"},this.balanceHistory.map((t=>this.renderTransactionalHistory(t)))):"",n("div",{class:"foot_text text-sm text-gray-500 leading-3 pt-4 text-center"},n("p",null,"No fees, your terms, full privacy.")))))}};var M;k.style='.w-full { width: 100%; } \n.align-top { vertical-align: top; } \n.tracking-wide { letter-spacing: 0.025em; } \n.no-underline { text-decoration: none; } \n.text-3xl { font-size: 1.875rem; } \n.text-xl { font-size: 1.25rem; } \n.text-lg { font-size: 1.125rem; } \n.text-sm { font-size: 0.875rem; } \n.text-gray-700 { color: #4a5568; } \n.text-gray-600 { color: #718096; } \n.text-gray-500 { color: #a0aec0; } \n.text-white { color: #fff; } \n.text-center { text-align: center; } \n.pt-4 { padding-top: 1rem; } \n.py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; } \n.p-4 { padding: 1rem; } \n.p-2 { padding: 0.5rem; } \n.mt-8 { margin-top: 2rem; } \n.mb-4 { margin-bottom: 1rem; } \n.my-6 { margin-top: 1.5rem; margin-bottom: 1.5rem; } \n.leading-3 { line-height: .75rem; } \n.h-12 { height: 3rem; } \n.font-medium { font-weight: 500; } \n.font-mono { font-family: Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; } \n.flex-auto { flex: 1 1 auto; } \n.justify-center { justify-content: center; } \n.items-center { align-items: center; } \n.flex-col { flex-direction: column; } \n.flex { display: flex; } \n.cursor-pointer { cursor: pointer; } \n.rounded-sm { border-radius: 0.125rem; } \n.hover\\:bg-blue-800:hover { background-color: #2c5282; } \n.bg-blue-600 { background-color: #3182ce; } \n @media only screen and (min-width: 641px) {  .step_2 {    padding: 2rem;    margin-top: 0.5rem;  }}@media only screen and (min-width: 641px) {  .foot_text {    display: flex;    text-align: left;  }}.button {  border-radius: 0.25rem;  color: #fff;  margin: 1rem;  padding: 1rem;  text-decoration: none;  background-color: #4261ff;  width: 50%;}input[type=radio] {  display: none;}input:checked + span {  background-color: #333;  color: white;  box-shadow: 0 1px 3px 0 rgba(255, 255, 255, 0.33);}.label {  color: #333;}.label span {  display: inline-block;  width: 40px;  height: 40px;  margin: -1px 4px 0 0;  vertical-align: middle;  cursor: pointer;  border-radius: 50%;  border: 2px solid #ffffff;  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.33);  background-repeat: no-repeat;  background-position: center;  text-align: center;  line-height: 40px;}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button {  -webkit-appearance: none;  margin: 0;  outline: none;}input:focus,input:not(:placeholder-shown) {  outline: none;  border-color: #333;}::placeholder {  color: #cbd5e0;}',function(t){t.PAYMENT="payment",t.DONATION="donation",t.BALANCE="balance"}(M||(M={}));class D{}D.API_ENDPOINT="https://iota-explorer-proxy.herokuapp.com",D.API_NETWORK="mainnet",D.SYNC_ADDRESS_FREQUENCY=1e4,D.EXCHANGE_RATE_INTERVAL_RESYNC=6e4;class ${static async json(t,n,e,r,i,o){let s,a;(i=null!=i?i:{})["Content-Type"]="application/json",void 0!==o&&(s=new AbortController,a=setTimeout((()=>{s&&s.abort()}),o));try{const o=await fetch(`${t.replace(/\/$/,"")}/${n.replace(/^\//,"")}`,{method:e,headers:i,body:r?JSON.stringify(r):void 0,signal:s?s.signal:void 0});return await o.json()}catch(t){throw"AbortError"===t.name?new Error("Timeout"):t}finally{a&&clearTimeout(a)}}static urlParams(t){const n=[];for(const e in t)null!=t[e]&&n.push(`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`);return n.length>0?`?${n.join("&")}`:""}}var j=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]])}return e};class S{constructor(t){this._endpoint=t}async networks(){return this.callApi("networks","get")}async currencies(){return this.callApi("currencies","get")}async transactionsGet(t){const{network:n,hash:e}=t,r=j(t,["network","hash"]);return this.callApi(`transactions/${n}/${e}/${$.urlParams(r)}`,"get")}async trytesRetrieve(t){const{network:n}=t,e=j(t,["network"]);return this.callApi(`trytes/${n}`,"post",e)}async transactionAction(t){return this.callApi(`transactions/${t.network}/${t.hash}/action/${t.action}`,"get")}async addressGet(t){return this.callApi(`address/${t.network}/${t.hash}`,"get")}async milestonesGet(t){return this.callApi(`milestones/${t.network}`,"get")}async marketGet(t){return this.callApi(`market/${t.currency}`,"get")}async search(t){return this.callApi(`search/${t.network}/${t.query}${t.cursor?`?cursor=${t.cursor}`:""}`,"get")}async messageDetails(t){return this.callApi(`message/${t.network}/${t.messageId}`,"get")}async outputDetails(t){return this.callApi(`output/${t.network}/${t.outputId}`,"get")}async milestoneDetails(t){return this.callApi(`milestone/${t.network}/${t.milestoneIndex}`,"get")}async stats(t){return this.callApi(`stats/${t.network}?includeHistory=${t.includeHistory?"true":"false"}`,"get")}async callApi(t,n,e,r){let i;try{i=await $.json(this._endpoint,t,n,e,void 0,r)}catch(t){i={error:`There was a problem communicating with the API.\n${t}`}}return i}}class _{constructor(t){this._apiClient=new S(t),this._settingsService=l.get("settings")}loadCurrencies(t){var n;const e=this._settingsService.get();let r=!1;e.baseCurrencyRate&&e.baseCurrencyRate>0&&e.currencies&&Object.keys(e.currencies).length>0&&(t(!0,{baseCurrencyRate:e.baseCurrencyRate,currencies:e.currencies,fiatCode:e.fiatCode,marketCap:e.marketCap,volume24h:e.volume24h}),r=!0);const i=e&&null!==(n=e.lastCurrencyUpdate)&&void 0!==n?n:0;(!r||Date.now()-i>5*_.MS_PER_MINUTE)&&setTimeout((async()=>this.loadData(t)),0)}saveFiatCode(t){this._settingsService.saveSingle("fiatCode",t)}convertIota(t,n,e,r){let i="";if(n.currencies&&n.fiatCode&&n.baseCurrencyRate){const o=n.currencies.find((t=>t.id===n.fiatCode));if(o){const s=t/1e6*(o.rate*n.baseCurrencyRate);e&&(i+=`${this.getSymbol(n.fiatCode)} `),i+=s.toFixed(r).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}return i}convertFiatBase(t,n,e,r,i){let o="";if(n.currencies&&n.fiatCode&&n.baseCurrencyRate){const s=n.currencies.find((t=>t.id===n.fiatCode));if(s){const a=t*s.rate;if(e&&(o+=`${this.getSymbol(n.fiatCode)} `),void 0!==i){const t=new RegExp(`^-?\\d*\\.?0*\\d{0,${r}}`).exec(a.toFixed(i));t&&(o+=t[0])}else o+=a.toFixed(r).replace(/\B(?=(\d{3})+(?!\d))/g,",")}}return o}convertFiatToMiota(t,n){let e=0;if(n.currencies&&n.fiatCode&&n.baseCurrencyRate){const r=n.currencies.find((t=>t.id===n.fiatCode));r&&(e=t/r.rate/n.baseCurrencyRate)}return e}convertMiotaToFiat(t,n){let e=0;if(n.currencies&&n.fiatCode&&n.baseCurrencyRate){const r=n.currencies.find((t=>t.id===n.fiatCode));r&&(e=t*(r.rate*n.baseCurrencyRate))}return e}formatCurrency(t,n,e,r){let i="";if(t&&(i=`${this.getSymbol(t.fiatCode)} `),void 0!==r){const t=new RegExp(`^-?\\d*\\.?0*\\d{0,${e}}`).exec(n.toFixed(r));t&&(i+=t[0])}else i+=n.toFixed(e).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return i}getSymbol(t){return _.SYMBOL_MAP[t]||t}async loadData(t){try{const n=await this._apiClient.currencies();if(n.error)t(!1);else if(n.baseRate&&n.currencies){const e=this._settingsService.get();e.lastCurrencyUpdate=Date.now(),e.baseCurrencyRate=n.baseRate||0;const r=n.currencies||{},i=Object.keys(r).sort();e.currencies=i.map((t=>({id:t,rate:r[t]}))),e.marketCap=n.marketCap,e.volume24h=n.volume24h,this._settingsService.save(),t(!0,{baseCurrencyRate:e.baseCurrencyRate,currencies:e.currencies,fiatCode:e.fiatCode,marketCap:e.marketCap,volume24h:e.volume24h})}else t(!1)}catch(n){t(!1,void 0,n)}}}_.SYMBOL_MAP={AFN:"؋",ALL:"L",AMD:"֏",ANG:"ƒ",AOA:"Kz",ARS:"$",AUD:"$",AWG:"ƒ",AZN:"₼",BAM:"KM",BBD:"$",BDT:"৳",BGN:"лв",BHD:".د.ب",BIF:"FBu",BMD:"$",BND:"$",BOB:"$b",BRL:"R$",BSD:"$",BTC:"฿",BTN:"Nu.",BWP:"P",BYR:"Br",BYN:"Br",BZD:"BZ$",CAD:"$",CDF:"FC",CHF:"CHF",CLP:"$",CNY:"¥",COP:"$",CRC:"₡",CUC:"$",CUP:"₱",CVE:"$",CZK:"Kč",DJF:"Fdj",DKK:"kr",DOP:"RD$",DZD:"دج",EEK:"kr",EGP:"£",ERN:"Nfk",ETB:"Br",ETH:"Ξ",EUR:"€",FJD:"$",FKP:"£",GBP:"£",GEL:"₾",GGP:"£",GHC:"₵",GHS:"GH₵",GIP:"£",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"$",HKD:"$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"₪",IMP:"£",INR:"₹",IQD:"ع.د",IRR:"﷼",ISK:"kr",JEP:"£",JMD:"J$",JOD:"JD",JPY:"¥",KES:"KSh",KGS:"лв",KHR:"៛",KMF:"CF",KPW:"₩",KRW:"₩",KWD:"KD",KYD:"$",KZT:"лв",LAK:"₭",LBP:"£",LKR:"₨",LRD:"$",LSL:"M",LTC:"Ł",LTL:"Lt",LVL:"Ls",LYD:"LD",MAD:"MAD",MDL:"lei",MGA:"Ar",MKD:"ден",MMK:"K",MNT:"₮",MOP:"MOP$",MRO:"UM",MRU:"UM",MUR:"₨",MVR:"Rf",MWK:"MK",MXN:"$",MYR:"RM",MZN:"MT",NAD:"$",NGN:"₦",NIO:"C$",NOK:"kr",NPR:"₨",NZD:"$",OMR:"﷼",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"₱",PKR:"₨",PLN:"zł",PYG:"Gs",QAR:"﷼",RMB:"￥",RON:"lei",RSD:"Дин.",RUB:"₽",RWF:"R₣",SAR:"﷼",SBD:"$",SCR:"₨",SDG:"ج.س.",SEK:"kr",SGD:"$",SHP:"£",SLL:"Le",SOS:"S",SRD:"$",SSP:"£",STD:"Db",STN:"Db",SVC:"$",SYP:"£",SZL:"E",THB:"฿",TJS:"SM",TMT:"T",TND:"د.ت",TOP:"T$",TRL:"₤",TRY:"₺",TTD:"TT$",TVD:"$",TWD:"NT$",TZS:"TSh",UAH:"₴",UGX:"USh",USD:"$",UYU:"$U",UZS:"лв",VEF:"Bs",VND:"₫",VUV:"VT",WST:"WS$",XAF:"FCFA",XBT:"Ƀ",XCD:"$",XOF:"CFA",XPF:"₣",YER:"﷼",ZAR:"R",ZWD:"Z$"},_.MS_PER_MINUTE=6e4;class A{constructor(){this._localStorageService=l.get("local-storage")}load(){this._settings=this._localStorageService.load("settings"),this._settings||(this._settings={fiatCode:"USD"})}save(){this._localStorageService.save("settings",this._settings)}saveSingle(t,n){this.get()[t]=n,this.save()}get(){return this._settings||this.load(),this._settings}}class C{load(t){let n;if(window.localStorage)try{const e=window.localStorage.getItem(t);e&&(n=JSON.parse(e))}catch(t){}return n}save(t,n){if(window.localStorage)try{const e=JSON.stringify(n);window.localStorage.setItem(t,e)}catch(t){}}clear(t){if(window.localStorage)try{if(t){const n=[],e=window.localStorage.length;for(let r=0;r<e;r++){const e=window.localStorage.key(r);(null==e?void 0:e.startsWith(t))&&n.push(e)}for(const t of n)window.localStorage.removeItem(t)}else window.localStorage.clear()}catch(t){}}}var T="object"==typeof o&&o&&o.Object===Object&&o,O="object"==typeof self&&self&&self.Object===Object&&self,R=T||O||Function("return this")(),N=R.Symbol,L=Object.prototype,B=L.hasOwnProperty,F=L.toString,P=N?N.toStringTag:void 0,Y=Object.prototype.toString,I=N?N.toStringTag:void 0;function E(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":I&&I in Object(t)?function(t){var n=B.call(t,P),e=t[P];try{t[P]=void 0;var r=!0}catch(t){}var i=F.call(t);return r&&(n?t[P]=e:delete t[P]),i}(t):function(t){return Y.call(t)}(t)}function K(t){return null!=t&&"object"==typeof t}function G(t){return"symbol"==typeof t||K(t)&&"[object Symbol]"==E(t)}function H(t,n){for(var e=-1,r=null==t?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}var U=Array.isArray,z=N?N.prototype:void 0,X=z?z.toString:void 0;function W(t){if("string"==typeof t)return t;if(U(t))return H(t,W)+"";if(G(t))return X?X.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}var Z=/\s/,J=/^\s+/;function V(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}var q=/^[-+]0x[0-9a-f]+$/i,Q=/^0b[01]+$/i,tt=/^0o[0-7]+$/i,nt=parseInt;function et(t){return t?1/0===(t=function(t){if("number"==typeof t)return t;if(G(t))return NaN;if(V(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=V(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;var e;t=(e=t)?e.slice(0,function(t){for(var n=t.length;n--&&Z.test(t.charAt(n)););return n}(e)+1).replace(J,""):e;var r=Q.test(t);return r||tt.test(t)?nt(t.slice(2),r?2:8):q.test(t)?NaN:+t}(t))||-1/0===t?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function rt(t){return t}function it(t){if(!V(t))return!1;var n=E(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}var ot,st=R["__core-js_shared__"],at=(ot=/[^.]+$/.exec(st&&st.keys&&st.keys.IE_PROTO||""))?"Symbol(src)_1."+ot:"",ct=Function.prototype.toString;function ut(t){if(null!=t){try{return ct.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var lt=/^\[object .+?Constructor\]$/,dt=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ft(t,n){var e=function(t,n){return null==t?void 0:t[n]}(t,n);return function(t){return!(!V(t)||(n=t,at&&at in n))&&(it(t)?dt:lt).test(ut(t));var n}(e)?e:void 0}var ht=ft(R,"WeakMap"),pt=/^(?:0|[1-9]\d*)$/;function bt(t,n){var e=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==e||"symbol"!=e&&pt.test(t))&&t>-1&&t%1==0&&t<n}function mt(t,n){return t===n||t!=t&&n!=n}function vt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function gt(t){return null!=t&&vt(t.length)&&!it(t)}var xt=Object.prototype;function yt(t){return K(t)&&"[object Arguments]"==E(t)}var wt=Object.prototype,kt=wt.hasOwnProperty,Mt=wt.propertyIsEnumerable,Dt=yt(function(){return arguments}())?yt:function(t){return K(t)&&kt.call(t,"callee")&&!Mt.call(t,"callee")},$t="object"==typeof exports&&exports&&!exports.nodeType&&exports,jt=$t&&"object"==typeof module&&module&&!module.nodeType&&module,St=jt&&jt.exports===$t?R.Buffer:void 0,_t=(St?St.isBuffer:void 0)||function(){return!1},At={};function Ct(t){return function(n){return t(n)}}At["[object Float32Array]"]=At["[object Float64Array]"]=At["[object Int8Array]"]=At["[object Int16Array]"]=At["[object Int32Array]"]=At["[object Uint8Array]"]=At["[object Uint8ClampedArray]"]=At["[object Uint16Array]"]=At["[object Uint32Array]"]=!0,At["[object Arguments]"]=At["[object Array]"]=At["[object ArrayBuffer]"]=At["[object Boolean]"]=At["[object DataView]"]=At["[object Date]"]=At["[object Error]"]=At["[object Function]"]=At["[object Map]"]=At["[object Number]"]=At["[object Object]"]=At["[object RegExp]"]=At["[object Set]"]=At["[object String]"]=At["[object WeakMap]"]=!1;var Tt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ot=Tt&&"object"==typeof module&&module&&!module.nodeType&&module,Rt=Ot&&Ot.exports===Tt&&T.process,Nt=function(){try{return Ot&&Ot.require&&Ot.require("util").types||Rt&&Rt.binding&&Rt.binding("util")}catch(t){}}(),Lt=Nt&&Nt.isTypedArray,Bt=Lt?Ct(Lt):function(t){return K(t)&&vt(t.length)&&!!At[E(t)]},Ft=Object.prototype.hasOwnProperty;var Pt,Yt,It=(Pt=Object.keys,Yt=Object,function(t){return Pt(Yt(t))}),Et=Object.prototype.hasOwnProperty;function Kt(t){return gt(t)?function(t,n){var e=U(t),r=!e&&Dt(t),i=!e&&!r&&_t(t),o=!e&&!r&&!i&&Bt(t),s=e||r||i||o,a=s?function(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}(t.length,String):[],c=a.length;for(var u in t)!n&&!Ft.call(t,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||bt(u,c))||a.push(u);return a}(t):function(t){if((n=t)!==("function"==typeof(e=n&&n.constructor)&&e.prototype||xt))return It(t);var n,e,r=[];for(var i in Object(t))Et.call(t,i)&&"constructor"!=i&&r.push(i);return r}(t)}var Gt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ht=/^\w*$/;function Ut(t,n){if(U(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!G(t))||Ht.test(t)||!Gt.test(t)||null!=n&&t in Object(n)}var zt=ft(Object,"create"),Xt=Object.prototype.hasOwnProperty,Wt=Object.prototype.hasOwnProperty;function Zt(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Jt(t,n){for(var e=t.length;e--;)if(mt(t[e][0],n))return e;return-1}Zt.prototype.clear=function(){this.__data__=zt?zt(null):{},this.size=0},Zt.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},Zt.prototype.get=function(t){var n=this.__data__;if(zt){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return Xt.call(n,t)?n[t]:void 0},Zt.prototype.has=function(t){var n=this.__data__;return zt?void 0!==n[t]:Wt.call(n,t)},Zt.prototype.set=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=zt&&void 0===n?"__lodash_hash_undefined__":n,this};var Vt=Array.prototype.splice;function qt(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}qt.prototype.clear=function(){this.__data__=[],this.size=0},qt.prototype.delete=function(t){var n=this.__data__,e=Jt(n,t);return!(e<0||(e==n.length-1?n.pop():Vt.call(n,e,1),--this.size,0))},qt.prototype.get=function(t){var n=this.__data__,e=Jt(n,t);return e<0?void 0:n[e][1]},qt.prototype.has=function(t){return Jt(this.__data__,t)>-1},qt.prototype.set=function(t,n){var e=this.__data__,r=Jt(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this};var Qt=ft(R,"Map");function tn(t,n){var e,r,i=t.__data__;return("string"==(r=typeof(e=n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?i["string"==typeof n?"string":"hash"]:i.map}function nn(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function en(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return e.cache=o.set(i,s)||o,s};return e.cache=new(en.Cache||nn),e}nn.prototype.clear=function(){this.size=0,this.__data__={hash:new Zt,map:new(Qt||qt),string:new Zt}},nn.prototype.delete=function(t){var n=tn(this,t).delete(t);return this.size-=n?1:0,n},nn.prototype.get=function(t){return tn(this,t).get(t)},nn.prototype.has=function(t){return tn(this,t).has(t)},nn.prototype.set=function(t,n){var e=tn(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this},en.Cache=nn;var rn,on,sn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,an=/\\(\\)?/g,cn=(rn=en((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(sn,(function(t,e,r,i){n.push(r?i.replace(an,"$1"):e||t)})),n}),(function(t){return 500===on.size&&on.clear(),t})),on=rn.cache,rn);function un(t,n){return U(t)?t:Ut(t,n)?[t]:cn(function(t){return null==t?"":W(t)}(t))}function ln(t){if("string"==typeof t||G(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function dn(t,n){for(var e=0,r=(n=un(n,t)).length;null!=t&&e<r;)t=t[ln(n[e++])];return e&&e==r?t:void 0}function fn(t){var n=this.__data__=new qt(t);this.size=n.size}fn.prototype.clear=function(){this.__data__=new qt,this.size=0},fn.prototype.delete=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},fn.prototype.get=function(t){return this.__data__.get(t)},fn.prototype.has=function(t){return this.__data__.has(t)},fn.prototype.set=function(t,n){var e=this.__data__;if(e instanceof qt){var r=e.__data__;if(!Qt||r.length<199)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new nn(r)}return e.set(t,n),this.size=e.size,this};var hn=Object.prototype.propertyIsEnumerable,pn=Object.getOwnPropertySymbols,bn=pn?function(t){return null==t?[]:(t=Object(t),function(n){for(var e=-1,r=null==n?0:n.length,i=0,o=[];++e<r;){var s=n[e];hn.call(t,s)&&(o[i++]=s)}return o}(pn(t)))}:function(){return[]};function mn(t){return function(t,n,e){var r=Kt(t);return U(t)?r:function(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}(r,e(t))}(t,0,bn)}var vn=ft(R,"DataView"),gn=ft(R,"Promise"),xn=ft(R,"Set"),yn=ut(vn),wn=ut(Qt),kn=ut(gn),Mn=ut(xn),Dn=ut(ht),$n=E;(vn&&"[object DataView]"!=$n(new vn(new ArrayBuffer(1)))||Qt&&"[object Map]"!=$n(new Qt)||gn&&"[object Promise]"!=$n(gn.resolve())||xn&&"[object Set]"!=$n(new xn)||ht&&"[object WeakMap]"!=$n(new ht))&&($n=function(t){var n=E(t),e="[object Object]"==n?t.constructor:void 0,r=e?ut(e):"";if(r)switch(r){case yn:return"[object DataView]";case wn:return"[object Map]";case kn:return"[object Promise]";case Mn:return"[object Set]";case Dn:return"[object WeakMap]"}return n});const jn=$n;var Sn=R.Uint8Array;function _n(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new nn;++n<e;)this.add(t[n])}function An(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}function Cn(t,n,e,r,i,o){var s=1&e,a=t.length,c=n.length;if(a!=c&&!(s&&c>a))return!1;var u=o.get(t),l=o.get(n);if(u&&l)return u==n&&l==t;var d=-1,f=!0,h=2&e?new _n:void 0;for(o.set(t,n),o.set(n,t);++d<a;){var p=t[d],b=n[d];if(r)var m=s?r(b,p,d,n,t,o):r(p,b,d,t,n,o);if(void 0!==m){if(m)continue;f=!1;break}if(h){if(!An(n,(function(t,n){if(!h.has(n)&&(p===t||i(p,t,e,r,o)))return h.push(n)}))){f=!1;break}}else if(p!==b&&!i(p,b,e,r,o)){f=!1;break}}return o.delete(t),o.delete(n),f}function Tn(t){var n=-1,e=Array(t.size);return t.forEach((function(t,r){e[++n]=[r,t]})),e}function On(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=t})),e}_n.prototype.add=_n.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},_n.prototype.has=function(t){return this.__data__.has(t)};var Rn=N?N.prototype:void 0,Nn=Rn?Rn.valueOf:void 0,Ln=Object.prototype.hasOwnProperty,Bn="[object Object]",Fn=Object.prototype.hasOwnProperty;function Pn(t,n,e,r,i){return t===n||(null==t||null==n||!K(t)&&!K(n)?t!=t&&n!=n:function(t,n,e,r,i,o){var s=U(t),a=U(n),c=s?"[object Array]":jn(t),u=a?"[object Array]":jn(n),l=(c="[object Arguments]"==c?Bn:c)==Bn,d=(u="[object Arguments]"==u?Bn:u)==Bn,f=c==u;if(f&&_t(t)){if(!_t(n))return!1;s=!0,l=!1}if(f&&!l)return o||(o=new fn),s||Bt(t)?Cn(t,n,e,r,i,o):function(t,n,e,r,i,o,s){switch(e){case"[object DataView]":if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=n.byteLength||!o(new Sn(t),new Sn(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return mt(+t,+n);case"[object Error]":return t.name==n.name&&t.message==n.message;case"[object RegExp]":case"[object String]":return t==n+"";case"[object Map]":var a=Tn;case"[object Set]":if(a||(a=On),t.size!=n.size&&!(1&r))return!1;var c=s.get(t);if(c)return c==n;r|=2,s.set(t,n);var u=Cn(a(t),a(n),r,i,o,s);return s.delete(t),u;case"[object Symbol]":if(Nn)return Nn.call(t)==Nn.call(n)}return!1}(t,n,c,e,r,i,o);if(!(1&e)){var h=l&&Fn.call(t,"__wrapped__"),p=d&&Fn.call(n,"__wrapped__");if(h||p){var b=h?t.value():t,m=p?n.value():n;return o||(o=new fn),i(b,m,e,r,o)}}return!!f&&(o||(o=new fn),function(t,n,e,r,i,o){var s=1&e,a=mn(t),c=a.length;if(c!=mn(n).length&&!s)return!1;for(var u=c;u--;){var l=a[u];if(!(s?l in n:Ln.call(n,l)))return!1}var d=o.get(t),f=o.get(n);if(d&&f)return d==n&&f==t;var h=!0;o.set(t,n),o.set(n,t);for(var p=s;++u<c;){var b=t[l=a[u]],m=n[l];if(r)var v=s?r(m,b,l,n,t,o):r(b,m,l,t,n,o);if(!(void 0===v?b===m||i(b,m,e,r,o):v)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var g=t.constructor,x=n.constructor;g==x||!("constructor"in t)||!("constructor"in n)||"function"==typeof g&&g instanceof g&&"function"==typeof x&&x instanceof x||(h=!1)}return o.delete(t),o.delete(n),h}(t,n,e,r,i,o))}(t,n,e,r,Pn,i))}function Yn(t){return t==t&&!V(t)}function In(t,n){return function(e){return null!=e&&e[t]===n&&(void 0!==n||t in Object(e))}}function En(t,n){return null!=t&&n in Object(t)}function Kn(t,n){return Ut(t)&&Yn(n)?In(ln(t),n):function(e){var r=function(t,n){var e=null==t?void 0:dn(t,n);return void 0===e?void 0:e}(e,t);return void 0===r&&r===n?function(t,n){return null!=t&&function(t,n,e){for(var r=-1,i=(n=un(n,t)).length,o=!1;++r<i;){var s=ln(n[r]);if(!(o=null!=t&&e(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&vt(i)&&bt(s,i)&&(U(t)||Dt(t))}(t,n,En)}(e,t):Pn(n,r,3)}}function Gn(t){return"function"==typeof t?t:null==t?rt:"object"==typeof t?U(t)?Kn(t[0],t[1]):1==(i=function(t){for(var n=Kt(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,Yn(i)]}return n}(r=t)).length&&i[0][2]?In(i[0][0],i[0][1]):function(t){return t===r||function(t,n,e,r){var i=e.length,o=i;if(null==t)return!o;for(t=Object(t);i--;){var s=e[i];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var a=(s=e[i])[0],c=t[a],u=s[1];if(s[2]){if(void 0===c&&!(a in t))return!1}else{var l,d=new fn;if(!(void 0===l?Pn(u,c,3,r,d):l))return!1}}return!0}(t,0,i)}:Ut(n=t)?(e=ln(n),function(t){return null==t?void 0:t[e]}):function(t){return function(n){return dn(n,t)}}(n);var n,e,r,i}var Hn,Un=function(t,n,e){for(var r=-1,i=Object(t),o=e(t),s=o.length;s--;){var a=o[++r];if(!1===n(i[a],a,i))break}return t},zn=function(t,n){if(null==t)return t;if(!gt(t))return function(t,n){return t&&Un(t,n,Kt)}(t,n);for(var e=t.length,r=-1,i=Object(t);++r<e&&!1!==n(i[r],r,i););return t},Xn=Math.max,Wn=(Hn=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i,o,s=null==e?0:(o=(i=et(e))%1,i==i?o?i-o:i:0);return s<0&&(s=Xn(r+s,0)),function(t,n,e){for(var r=t.length,i=e+-1;++i<r;)if(n(t[i],i,t))return i;return-1}(t,Gn(n),s)},function(t,n,e){var r=Object(t);if(!gt(t)){var i=Gn(n);t=Kt(t),n=function(t){return i(r[t],t,r)}}var o=Hn(t,n,e);return o>-1?r[i?t[o]:o]:void 0});function Zn(t,n){if(t!==n){var e=void 0!==t,r=null===t,i=t==t,o=G(t),s=void 0!==n,a=null===n,c=n==n,u=G(n);if(!a&&!u&&!o&&t>n||o&&s&&c&&!a&&!u||r&&s&&c||!e&&c||!i)return 1;if(!r&&!o&&!u&&t<n||u&&e&&i&&!r&&!o||a&&e&&i||!s&&i||!c)return-1}return 0}function Jn(t,n,e){n=n.length?H(n,(function(t){return U(t)?function(n){return dn(n,1===t.length?t[0]:t)}:t})):[rt];var r=-1;return n=H(n,Ct(Gn)),function(t){var n=t.length;for(t.sort((function(t,n){return function(t,n,e){for(var r=-1,i=t.criteria,o=n.criteria,s=i.length,a=e.length;++r<s;){var c=Zn(i[r],o[r]);if(c)return r>=a?c:c*("desc"==e[r]?-1:1)}return t.index-n.index}(t,n,e)}));n--;)t[n]=t[n].value;return t}(function(t,n){var e=-1,r=gt(t)?Array(t.length):[];return zn(t,(function(t){r[++e]=n(t)})),r}(t,(function(t){return{criteria:H(n,(function(n){return n(t)})),index:++r,value:t}})))}const Vn=class{constructor(n){t(this,n),this.type=M.PAYMENT,this.show="false",this.balanceHistory=[],this.milestones=[],l.register("api-client",(()=>new S(D.API_ENDPOINT))),l.register("settings",(()=>new A)),l.register("currency",(()=>new _(D.API_ENDPOINT))),l.register("local-storage",(()=>new C))}validateInputs(){if(!this.address)throw new Error("To initite the component you must provide an IOTA address.");if(this.currency&&!_.SYMBOL_MAP[this.currency])throw new Error("Currency provided is not supported.")}connectedCallback(){this.validateInputs(),this.label||(this.type===M.BALANCE?this.label="Balance":this.type===M.DONATION?this.label="Donate":this.type===M.PAYMENT&&(this.label="Pay")),this.getLatestAddressBalance("false"===this.show),this.addressSyncTimer=setInterval((()=>{this.getLatestAddressBalance("false"===this.show)}),D.SYNC_ADDRESS_FREQUENCY),this.refreshCurrenciesAndExchangeRates(),this.exchangeRateSyncTimer=setInterval((()=>{this.refreshCurrenciesAndExchangeRates()}),D.EXCHANGE_RATE_INTERVAL_RESYNC)}disconnectedCallback(){this.addressSyncTimer&&clearInterval(this.addressSyncTimer),this.exchangeRateSyncTimer&&clearInterval(this.exchangeRateSyncTimer)}async refreshCurrenciesAndExchangeRates(){return new Promise(((t,n)=>{b.fCurrencyService().loadCurrencies(((e,r,i)=>{i?n("Failed to load currencies: "+i):(this.currencySettings=r,t())}))}))}get currencyExchangeRate(){var t;return this.currency?Wn(null===(t=this.currencySettings)||void 0===t?void 0:t.currencies,{id:this.currency}).rate:1}get usdExchangeRate(){var t;const n=Wn(null===(t=this.currencySettings)||void 0===t?void 0:t.currencies,{id:"USD"});return(null==n?void 0:n.rate)||"n/a"}async getLatestAddressBalance(t=!0){var n,e,r,i,o,s,a,c,u,l,f,h,p;if("balance"===this.type||"false"!==this.show)try{const b=await d().search({network:D.API_NETWORK,query:this.address});this.balance=b.address.balance;let m=null==b?void 0:b.addressOutputIds;if((null===(n=null==b?void 0:b.historicAddressOutputIds)||void 0===n?void 0:n.length)>0&&(m=m.concat(null==b?void 0:b.historicAddressOutputIds)),!0!==t&&m)for(let t of m){if(Wn(this.balanceHistory,{outputId:t}))return;const n=await d().outputDetails({network:D.API_NETWORK,outputId:t});if((null===(r=null===(e=n.output)||void 0===e?void 0:e.output)||void 0===r?void 0:r.amount)>0||(null===(o=null===(i=n.output)||void 0===i?void 0:i.output)||void 0===o?void 0:o.amount)<0){const e=await d().messageDetails({network:D.API_NETWORK,messageId:n.output.messageId});if((null===(s=e.metadata)||void 0===s?void 0:s.referencedByMilestoneIndex)>0){let r=Wn(this.milestones,{index:null===(a=e.metadata)||void 0===a?void 0:a.referencedByMilestoneIndex});if(r||(r=(await d().milestoneDetails({network:D.API_NETWORK,milestoneIndex:null===(c=e.metadata)||void 0===c?void 0:c.referencedByMilestoneIndex})).milestone),this.milestones.push(r),Wn(this.balanceHistory,{outputId:t}))return;this.balanceHistory.push({outputId:t,address:n.output.output.address.address,amount:null===(l=null===(u=n.output)||void 0===u?void 0:u.output)||void 0===l?void 0:l.amount,timestamp:r.timestamp}),this.balanceHistory=(h=["timestamp"],p=["desc"],void 0,null==(f=this.balanceHistory)?[]:(U(h)||(h=null==h?[]:[h]),U(p=p)||(p=null==p?[]:[p]),Jn(f,h,p)))}}}}catch(t){console.error("Failed to load the address, "+t)}}openModal(){if(this.type===M.BALANCE)return;this.balanceHistory=[];const t=document.createElement("iota-button");this.address&&t.setAttribute("address",this.address),this.label&&t.setAttribute("label",this.label),this.type&&t.setAttribute("type",this.type),this.amount&&t.setAttribute("amount",this.amount.toString()),this.merchant&&t.setAttribute("merchant",this.merchant),this.currency&&t.setAttribute("currency",this.currency),this.tranid&&t.setAttribute("tranid",this.tranid),t.setAttribute("show","true"),document.body.prepend(t)}closeModal(){var t;const n=null===(t=document.querySelectorAll('iota-button[show="true"]'))||void 0===t?void 0:t[0];n&&n.remove()}renderContent(){let t;return t=this.type===M.PAYMENT?n("ibtn-payment-process",{class:"content",currency:this.currency,address:this.address,balanceHistory:this.balanceHistory,amount:this.amount,balance:this.balance,currencyExchangeRate:this.currencyExchangeRate,usdExchangeRate:this.usdExchangeRate}):this.type===M.DONATION?n("ibtn-donation-request",{class:"content",merchant:this.merchant,currency:this.currency,address:this.address,balanceHistory:this.balanceHistory,balance:this.balance,currencyExchangeRate:this.currencyExchangeRate,usdExchangeRate:this.usdExchangeRate}):n("p",null,"Not supported yet"),n("div",{class:"ib-overlay-container animate"},n("div",{class:"ib-overlay-backdrop"}),n("div",{class:"ib-overlay"},n("div",{class:"ib-modal-container"},n("div",{class:"ib-modal"},t,n("ibtn-modal-close",{class:"close",onClick:()=>this.closeModal()})))))}render(){let t;return t=this.type===M.PAYMENT?n("ibtn-button-payment",{onClick:()=>this.openModal(),label:this.label}):this.type===M.DONATION?n("ibtn-button-donation",{onClick:()=>this.openModal(),label:this.label}):n("ibtn-button-balance",{onClick:()=>f(this.address),label:this.label+" "+b.printBalanceAmount(this.balance,this.currency,this.currencyExchangeRate)}),n("host",null,"false"===this.show?t:"","true"===this.show?this.renderContent():"")}};Vn.style=":host {  display: block;}.ib-global-scrollblock {  left: 0;  top: 0;  position: fixed;  width: 100%;  overflow-y: scroll;}.ib-overlay-container {  pointer-events: none;  top: 0;  left: 0;  width: 100%;  height: 100%;  position: fixed;  z-index: 1000;  transform: scale(0);}.ib-overlay-container.animate {  transform: scale(1);}.ib-overlay-container.animate .ib-overlay-backdrop {  background: rgba(0, 0, 0, 0);  animation: fadeIn 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;}.ib-overlay-container.animate .ib-modal {  transform: translateX(-1500px);  animation: roadRunnerIn 0.3s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;}.ib-overlay-container.animate.out {  animation: quickScaleDown 0s 0.5s linear forwards;}.ib-overlay-container.animate.out .ib-overlay-backdrop {  animation: fadeOut 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;}.ib-overlay-container.animate.out .ib-modal {  animation: roadRunnerOut 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;}@keyframes fadeIn {  0% {    background: rgba(0, 0, 0, 0);    backdrop-filter: blur(10px) opacity(0);  }  100% {    background: rgba(0, 0, 0, 0.7);    backdrop-filter: blur(10px) opacity(0.9);  }}@keyframes quickScaleDown {  0% {    transform: scale(1);  }  99.9% {    transform: scale(1);  }  100% {    transform: scale(0);  }}@keyframes fadeOut {  0% {    background: rgba(0, 0, 0, 0.7);  }  100% {    background: rgba(0, 0, 0, 0);  }}@keyframes roadRunnerIn {  0% {    transform: translateX(-1500px) skewX(30deg) scaleX(1.3);  }  70% {    transform: translateX(30px) skewX(0deg) scaleX(0.9);  }  100% {    transform: translateX(0px) skewX(0deg) scaleX(1);  }}@keyframes roadRunnerOut {  0% {    transform: translateX(0px) skewX(0deg) scaleX(1);  }  30% {    transform: translateX(-30px) skewX(-5deg) scaleX(0.9);  }  100% {    transform: translateX(1500px) skewX(30deg) scaleX(1.3);  }}.ib-overlay-backdrop {  position: fixed;  right: 0;  bottom: 0;  left: 0;  top: 0;  height: 100%;  opacity: 1;  pointer-events: auto;  z-index: 1000;  background: rgba(0, 0, 0, 0.8);  backdrop-filter: blur(10px) opacity(0);  -webkit-backdrop-filter: blur(10px);  transition: backdrop-filter 0.2s;}.ib-overlay {  position: static;  pointer-events: auto;  z-index: 1000;}.ib-modal-container {  position: fixed;  right: 0;  bottom: 0;  left: 0;  top: 0;  overflow: auto;  z-index: 1000;  outline: 0;}.ib-modal {  box-sizing: border-box;  line-height: 1.5;  list-style-type: none;  position: relative;  width: 500px;  padding: 0 0 24px;  color: rgba(0, 0, 0, 0.65);  top: 100px;  max-width: calc(100vw - 32px);  margin: 0 auto;  font-size: 13px;}@media only screen and (max-width: 640px) {  .ib-modal {    top: 6px;    margin: 0;    left: 6px;    right: 6px;    bottom: 0;    position: absolute;    max-width: none;    width: auto;  }}.ib-modal .content {  position: relative;  border-width: 0;  pointer-events: auto;  border-radius: 0.125rem;  display: flex;  flex-direction: column;  align-items: center;  background-color: #fff;  background-clip: padding-box;  box-shadow: 0 16px 16px rgba(108, 114, 156, 0.07), 0 3px 9px rgba(108, 114, 156, 0.12), 0 9px 8px rgba(94, 100, 135, 0.1);}.ib-modal .summary {  position: absolute;  text-align: left;  border-width: 0;  pointer-events: auto;  border-radius: 0.5rem;  top: 20px;  left: -230px;  height: 500px;  background-color: white;  display: flex;  flex-direction: column;  justify-content: normal;  align-items: center;  padding: 2rem 1rem;  box-shadow: 0 16px 16px rgba(108, 114, 156, 0.07), 0 3px 9px rgba(108, 114, 156, 0.12), 0 9px 8px rgba(94, 100, 135, 0.1);}.ib-modal .close {  display: block;  position: absolute;  cursor: pointer;  color: #d1d5db;  right: 16px;  top: 16px;}@media only screen and (max-width: 640px) {  .ib-modal .close {    right: 8px;    top: 8px;  }}.ib-modal .button {  border-radius: 0.25rem;  color: #fff;  margin: 1rem;  padding: 1rem;  text-decoration: none;  background-color: #4261ff;  width: 50%;}";export{s as ibtn_awaiting,a as ibtn_button_balance,c as ibtn_button_donation,u as ibtn_button_payment,y as ibtn_donation_request,w as ibtn_modal_close,k as ibtn_payment_process,Vn as iota_button}