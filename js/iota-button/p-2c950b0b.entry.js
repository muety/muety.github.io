import{r,h as t}from"./p-d1dcb9ac.js";import{c as n,g as e,b as i,F as u}from"./p-ff2ca413.js";var o=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then},f={}.toString,a=Array.isArray||function(r){return"[object Array]"==f.call(r)},s=(c.TYPED_ARRAY_SUPPORT=function(){try{var r=new Uint8Array(1);return r.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===r.foo()}catch(r){return!1}}())?2147483647:1073741823;function c(r,t,n){return c.TYPED_ARRAY_SUPPORT||this instanceof c?"number"==typeof r?w(this,r):function(r,t,n,e){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(r,t,n,e){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(e||0))throw new RangeError("'length' is out of bounds");var i;return i=void 0===n&&void 0===e?new Uint8Array(t):void 0===e?new Uint8Array(t,n):new Uint8Array(t,n,e),c.TYPED_ARRAY_SUPPORT?i.__proto__=c.prototype:i=l(r,i),i}(r,t,n,e):"string"==typeof t?function(r,t){var n=0|g(t),e=v(r,n),i=e.write(t);return i!==n&&(e=e.slice(0,i)),e}(r,t):function(r,t){if(c.isBuffer(t)){var n=0|h(t.length),e=v(r,n);return 0===e.length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?v(r,0):l(r,t);if("Buffer"===t.type&&Array.isArray(t.data))return l(r,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(r,t)}(this,r,t,n):new c(r,t,n)}function h(r){if(r>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|r}function v(r,t){var n;return c.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(t)).__proto__=c.prototype:(null===(n=r)&&(n=new c(t)),n.length=t),n}function w(r,t){var n=v(r,t<0?0:0|h(t));if(!c.TYPED_ARRAY_SUPPORT)for(var e=0;e<t;++e)n[e]=0;return n}function l(r,t){for(var n=t.length<0?0:0|h(t.length),e=v(r,n),i=0;i<n;i+=1)e[i]=255&t[i];return e}function d(r,t){var n;t=t||1/0;for(var e=r.length,i=null,u=[],o=0;o<e;++o){if((n=r.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&u.push(239,191,189);continue}if(o+1===e){(t-=3)>-1&&u.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&u.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&u.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;u.push(n)}else if(n<2048){if((t-=2)<0)break;u.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;u.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;u.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return u}function g(r){return c.isBuffer(r)?r.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer)?r.byteLength:("string"!=typeof r&&(r=""+r),0===r.length?0:d(r).length)}c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),c.prototype.write=function(r,t,n){void 0===t||void 0===n&&"string"==typeof t?(n=this.length,t=0):isFinite(t)&&(t|=0,isFinite(n)?n|=0:n=void 0);var e=this.length-t;if((void 0===n||n>e)&&(n=e),r.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(r,t,n,e){return function(r,t,n,e){for(var i=0;i<e&&!(i+n>=t.length||i>=r.length);++i)t[i+n]=r[i];return i}(d(t,r.length-n),r,n,e)}(this,r,t,n)},c.prototype.slice=function(r,t){var n,e=this.length;if((r=~~r)<0?(r+=e)<0&&(r=0):r>e&&(r=e),(t=void 0===t?e:~~t)<0?(t+=e)<0&&(t=0):t>e&&(t=e),t<r&&(t=r),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(r,t)).__proto__=c.prototype;else{var i=t-r;n=new c(i,void 0);for(var u=0;u<i;++u)n[u]=this[u+r]}return n},c.prototype.copy=function(r,t,n,e){if(n||(n=0),e||0===e||(e=this.length),t>=r.length&&(t=r.length),t||(t=0),e>0&&e<n&&(e=n),e===n)return 0;if(0===r.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(e<0)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),r.length-t<e-n&&(e=r.length-t+n);var i,u=e-n;if(this===r&&n<t&&t<e)for(i=u-1;i>=0;--i)r[i+t]=this[i+n];else if(u<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<u;++i)r[i+t]=this[i+n];else Uint8Array.prototype.set.call(r,this.subarray(n,n+u),t);return u},c.prototype.fill=function(r,t,n){if("string"==typeof r){if("string"==typeof t?(t=0,n=this.length):"string"==typeof n&&(n=this.length),1===r.length){var e=r.charCodeAt(0);e<256&&(r=e)}}else"number"==typeof r&&(r&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,r||(r=0),"number"==typeof r)for(i=t;i<n;++i)this[i]=r;else{var u=c.isBuffer(r)?r:new c(r),o=u.length;for(i=0;i<n-t;++i)this[i+t]=u[i%o]}return this},c.concat=function(r,t){if(!a(r))throw new TypeError('"list" argument must be an Array of Buffers');if(0===r.length)return v(null,0);var n;if(void 0===t)for(t=0,n=0;n<r.length;++n)t+=r[n].length;var e=w(null,t),i=0;for(n=0;n<r.length;++n){var u=r[n];if(!c.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(e,i),i+=u.length}return e},c.byteLength=g,c.prototype._isBuffer=!0,c.isBuffer=function(r){return!(null==r||!r._isBuffer)};var y,p=function(r){var t=new c(r);return t.fill(0),t},m=function(r){return new c(r)},b=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],E=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return 4*r+17},A=function(r){return b[r]},M=function(r){for(var t=0;0!==r;)t++,r>>>=1;return t},B=function(){return void 0!==y},R=function(r){return y(r)},T=n((function(r,t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(r){return r&&void 0!==r.bit&&r.bit>=0&&r.bit<4},t.from=function(r,n){if(t.isValid(r))return r;try{return function(r){if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}(r)}catch(r){return n}}}));function x(){this.buffer=[],this.length=0}x.prototype={get:function(r){var t=Math.floor(r/8);return 1==(this.buffer[t]>>>7-r%8&1)},put:function(r,t){for(var n=0;n<t;n++)this.putBit(1==(r>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(r){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),r&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var k=x;function N(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=p(r*r),this.reservedBit=p(r*r)}N.prototype.set=function(r,t,n,e){var i=r*this.size+t;this.data[i]=n,e&&(this.reservedBit[i]=!0)},N.prototype.get=function(r,t){return this.data[r*this.size+t]},N.prototype.xor=function(r,t,n){this.data[r*this.size+t]^=n},N.prototype.isReserved=function(r,t){return this.reservedBit[r*this.size+t]};var I=N,U=n((function(r,t){var n=E;t.getRowColCoords=function(r){if(1===r)return[];for(var t=Math.floor(r/7)+2,e=n(r),i=145===e?26:2*Math.ceil((e-13)/(2*t-2)),u=[e-7],o=1;o<t-1;o++)u[o]=u[o-1]-i;return u.push(6),u.reverse()},t.getPositions=function(r){for(var n=[],e=t.getRowColCoords(r),i=e.length,u=0;u<i;u++)for(var o=0;o<i;o++)0===u&&0===o||0===u&&o===i-1||u===i-1&&0===o||n.push([e[u],e[o]]);return n}})),S=E,F=n((function(r,t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function n(r,n,e){switch(r){case t.Patterns.PATTERN000:return(n+e)%2==0;case t.Patterns.PATTERN001:return n%2==0;case t.Patterns.PATTERN010:return e%3==0;case t.Patterns.PATTERN011:return(n+e)%3==0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(e/3))%2==0;case t.Patterns.PATTERN101:return n*e%2+n*e%3==0;case t.Patterns.PATTERN110:return(n*e%2+n*e%3)%2==0;case t.Patterns.PATTERN111:return(n*e%3+(n+e)%2)%2==0;default:throw new Error("bad maskPattern:"+r)}}t.isValid=function(r){return null!=r&&""!==r&&!isNaN(r)&&r>=0&&r<=7},t.from=function(r){return t.isValid(r)?parseInt(r,10):void 0},t.getPenaltyN1=function(r){for(var t=r.size,n=0,e=0,i=0,u=null,o=null,f=0;f<t;f++){e=i=0,u=o=null;for(var a=0;a<t;a++){var s=r.get(f,a);s===u?e++:(e>=5&&(n+=e-5+3),u=s,e=1),(s=r.get(a,f))===o?i++:(i>=5&&(n+=i-5+3),o=s,i=1)}e>=5&&(n+=e-5+3),i>=5&&(n+=i-5+3)}return n},t.getPenaltyN2=function(r){for(var t=r.size,n=0,e=0;e<t-1;e++)for(var i=0;i<t-1;i++){var u=r.get(e,i)+r.get(e,i+1)+r.get(e+1,i)+r.get(e+1,i+1);4!==u&&0!==u||n++}return 3*n},t.getPenaltyN3=function(r){for(var t=r.size,n=0,e=0,i=0,u=0;u<t;u++){e=i=0;for(var o=0;o<t;o++)e=e<<1&2047|r.get(u,o),o>=10&&(1488===e||93===e)&&n++,i=i<<1&2047|r.get(o,u),o>=10&&(1488===i||93===i)&&n++}return 40*n},t.getPenaltyN4=function(r){for(var t=0,n=r.data.length,e=0;e<n;e++)t+=r.data[e];return 10*Math.abs(Math.ceil(100*t/n/5)-10)},t.applyMask=function(r,t){for(var e=t.size,i=0;i<e;i++)for(var u=0;u<e;u++)t.isReserved(u,i)||t.xor(u,i,n(r,u,i))},t.getBestMask=function(r,n){for(var e=Object.keys(t.Patterns).length,i=0,u=1/0,o=0;o<e;o++){n(o),t.applyMask(o,r);var f=t.getPenaltyN1(r)+t.getPenaltyN2(r)+t.getPenaltyN3(r)+t.getPenaltyN4(r);t.applyMask(o,r),f<u&&(u=f,i=o)}return i}})),_=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],P=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430],C=function(r,t){switch(t){case T.L:return _[4*(r-1)+0];case T.M:return _[4*(r-1)+1];case T.Q:return _[4*(r-1)+2];case T.H:return _[4*(r-1)+3];default:return}},j=function(r,t){switch(t){case T.L:return P[4*(r-1)+0];case T.M:return P[4*(r-1)+1];case T.Q:return P[4*(r-1)+2];case T.H:return P[4*(r-1)+3];default:return}},z=p(512),$=p(256);!function(){for(var r=1,t=0;t<255;t++)z[t]=r,$[r]=t,256&(r<<=1)&&(r^=285);for(t=255;t<512;t++)z[t]=z[t-255]}();var L=function(r,t){return 0===r||0===t?0:z[$[r]+$[t]]},O=n((function(r,t){t.mul=function(r,t){for(var n=p(r.length+t.length-1),e=0;e<r.length;e++)for(var i=0;i<t.length;i++)n[e+i]^=L(r[e],t[i]);return n},t.mod=function(r,t){for(var n=m(r);n.length-t.length>=0;){for(var e=n[0],i=0;i<t.length;i++)n[i]^=L(t[i],e);for(var u=0;u<n.length&&0===n[u];)u++;n=n.slice(u)}return n},t.generateECPolynomial=function(r){for(var n=m([1]),e=0;e<r;e++)n=t.mul(n,[1,(i=e,z[i])]);var i;return n}})),Q=[],Z=[],q="undefined"!=typeof Uint8Array?Uint8Array:Array,J=!1;function K(){J=!0;for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=r.length;t<n;++t)Q[t]=r[t],Z[r.charCodeAt(t)]=t;Z["-".charCodeAt(0)]=62,Z["_".charCodeAt(0)]=63}function Y(r,t,n){for(var e,i=[],u=t;u<n;u+=3)i.push(Q[(e=(r[u]<<16)+(r[u+1]<<8)+r[u+2])>>18&63]+Q[e>>12&63]+Q[e>>6&63]+Q[63&e]);return i.join("")}function D(r,t,n,e,i){var u,o,f=8*i-e-1,a=(1<<f)-1,s=a>>1,c=-7,h=n?i-1:0,v=n?-1:1,w=r[t+h];for(h+=v,u=w&(1<<-c)-1,w>>=-c,c+=f;c>0;u=256*u+r[t+h],h+=v,c-=8);for(o=u&(1<<-c)-1,u>>=-c,c+=e;c>0;o=256*o+r[t+h],h+=v,c-=8);if(0===u)u=1-s;else{if(u===a)return o?NaN:1/0*(w?-1:1);o+=Math.pow(2,e),u-=s}return(w?-1:1)*o*Math.pow(2,u-e)}function H(r,t,n,e,i,u){var o,f,a,s=8*u-i-1,c=(1<<s)-1,h=c>>1,v=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,w=e?0:u-1,l=e?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-o))<1&&(o--,a*=2),(t+=o+h>=1?v/a:v*Math.pow(2,1-h))*a>=2&&(o++,a/=2),o+h>=c?(f=0,o=c):o+h>=1?(f=(t*a-1)*Math.pow(2,i),o+=h):(f=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;r[n+w]=255&f,w+=l,f/=256,i-=8);for(o=o<<i|f,s+=i;s>0;r[n+w]=255&o,w+=l,o/=256,s-=8);r[n+w-l]|=128*d}var X={}.toString,G=Array.isArray||function(r){return"[object Array]"==X.call(r)};tr.TYPED_ARRAY_SUPPORT=void 0===e.TYPED_ARRAY_SUPPORT||e.TYPED_ARRAY_SUPPORT;var V=W();function W(){return tr.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function rr(r,t){if(W()<t)throw new RangeError("Invalid typed array length");return tr.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t)).__proto__=tr.prototype:(null===r&&(r=new tr(t)),r.length=t),r}function tr(r,t,n){if(!(tr.TYPED_ARRAY_SUPPORT||this instanceof tr))return new tr(r,t,n);if("number"==typeof r){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return ir(this,r)}return nr(this,r,t,n)}function nr(r,t,n,e){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(r,t,n,e){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(e||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===e?new Uint8Array(t):void 0===e?new Uint8Array(t,n):new Uint8Array(t,n,e),tr.TYPED_ARRAY_SUPPORT?(r=t).__proto__=tr.prototype:r=ur(r,t),r}(r,t,n,e):"string"==typeof t?function(r,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!tr.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var e=0|ar(t,n),i=(r=rr(r,e)).write(t,n);return i!==e&&(r=r.slice(0,i)),r}(r,t,n):function(r,t){if(fr(t)){var n=0|or(t.length);return 0===(r=rr(r,n)).length||t.copy(r,0,0,n),r}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(e=t.length)!=e?rr(r,0):ur(r,t);if("Buffer"===t.type&&G(t.data))return ur(r,t.data)}var e;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(r,t)}function er(r){if("number"!=typeof r)throw new TypeError('"size" argument must be a number');if(r<0)throw new RangeError('"size" argument must not be negative')}function ir(r,t){if(er(t),r=rr(r,t<0?0:0|or(t)),!tr.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)r[n]=0;return r}function ur(r,t){var n=t.length<0?0:0|or(t.length);r=rr(r,n);for(var e=0;e<n;e+=1)r[e]=255&t[e];return r}function or(r){if(r>=W())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+W().toString(16)+" bytes");return 0|r}function fr(r){return!(null==r||!r._isBuffer)}function ar(r,t){if(fr(r))return r.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;"string"!=typeof r&&(r=""+r);var n=r.length;if(0===n)return 0;for(var e=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Fr(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return _r(r).length;default:if(e)return Fr(r).length;t=(""+t).toLowerCase(),e=!0}}function sr(r,t,n){var e=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(r||(r="utf8");;)switch(r){case"hex":return Mr(this,t,n);case"utf8":case"utf-8":return br(this,t,n);case"ascii":return Er(this,t,n);case"latin1":case"binary":return Ar(this,t,n);case"base64":return mr(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Br(this,t,n);default:if(e)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),e=!0}}function cr(r,t,n){var e=r[t];r[t]=r[n],r[n]=e}function hr(r,t,n,e,i){if(0===r.length)return-1;if("string"==typeof n?(e=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:r.length-1),n<0&&(n=r.length+n),n>=r.length){if(i)return-1;n=r.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=tr.from(t,e)),fr(t))return 0===t.length?-1:vr(r,t,n,e,i);if("number"==typeof t)return t&=255,tr.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(r,t,n):Uint8Array.prototype.lastIndexOf.call(r,t,n):vr(r,[t],n,e,i);throw new TypeError("val must be string, number or Buffer")}function vr(r,t,n,e,i){var u,o=1,f=r.length,a=t.length;if(void 0!==e&&("ucs2"===(e=String(e).toLowerCase())||"ucs-2"===e||"utf16le"===e||"utf-16le"===e)){if(r.length<2||t.length<2)return-1;o=2,f/=2,a/=2,n/=2}function s(r,t){return 1===o?r[t]:r.readUInt16BE(t*o)}if(i){var c=-1;for(u=n;u<f;u++)if(s(r,u)===s(t,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===a)return c*o}else-1!==c&&(u-=u-c),c=-1}else for(n+a>f&&(n=f-a),u=n;u>=0;u--){for(var h=!0,v=0;v<a;v++)if(s(r,u+v)!==s(t,v)){h=!1;break}if(h)return u}return-1}function wr(r,t,n,e){n=Number(n)||0;var i=r.length-n;e?(e=Number(e))>i&&(e=i):e=i;var u=t.length;if(u%2!=0)throw new TypeError("Invalid hex string");e>u/2&&(e=u/2);for(var o=0;o<e;++o){var f=parseInt(t.substr(2*o,2),16);if(isNaN(f))return o;r[n+o]=f}return o}function lr(r,t,n,e){return Pr(Fr(t,r.length-n),r,n,e)}function dr(r,t,n,e){return Pr(function(r){for(var t=[],n=0;n<r.length;++n)t.push(255&r.charCodeAt(n));return t}(t),r,n,e)}function gr(r,t,n,e){return dr(r,t,n,e)}function yr(r,t,n,e){return Pr(_r(t),r,n,e)}function pr(r,t,n,e){return Pr(function(r,t){for(var n,e,i=[],u=0;u<r.length&&!((t-=2)<0);++u)e=(n=r.charCodeAt(u))>>8,i.push(n%256),i.push(e);return i}(t,r.length-n),r,n,e)}function mr(r,t,n){return function(r){var t;J||K();for(var n=r.length,e=n%3,i="",u=[],o=16383,f=0,a=n-e;f<a;f+=o)u.push(Y(r,f,f+o>a?a:f+o));return 1===e?(i+=Q[(t=r[n-1])>>2],i+=Q[t<<4&63],i+="=="):2===e&&(i+=Q[(t=(r[n-2]<<8)+r[n-1])>>10],i+=Q[t>>4&63],i+=Q[t<<2&63],i+="="),u.push(i),u.join("")}(0===t&&n===r.length?r:r.slice(t,n))}function br(r,t,n){n=Math.min(r.length,n);for(var e=[],i=t;i<n;){var u,o,f,a,s=r[i],c=null,h=s>239?4:s>223?3:s>191?2:1;if(i+h<=n)switch(h){case 1:s<128&&(c=s);break;case 2:128==(192&(u=r[i+1]))&&(a=(31&s)<<6|63&u)>127&&(c=a);break;case 3:o=r[i+2],128==(192&(u=r[i+1]))&&128==(192&o)&&(a=(15&s)<<12|(63&u)<<6|63&o)>2047&&(a<55296||a>57343)&&(c=a);break;case 4:o=r[i+2],f=r[i+3],128==(192&(u=r[i+1]))&&128==(192&o)&&128==(192&f)&&(a=(15&s)<<18|(63&u)<<12|(63&o)<<6|63&f)>65535&&a<1114112&&(c=a)}null===c?(c=65533,h=1):c>65535&&(e.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),e.push(c),i+=h}return function(r){var t=r.length;if(t<=4096)return String.fromCharCode.apply(String,r);for(var n="",e=0;e<t;)n+=String.fromCharCode.apply(String,r.slice(e,e+=4096));return n}(e)}function Er(r,t,n){var e="";n=Math.min(r.length,n);for(var i=t;i<n;++i)e+=String.fromCharCode(127&r[i]);return e}function Ar(r,t,n){var e="";n=Math.min(r.length,n);for(var i=t;i<n;++i)e+=String.fromCharCode(r[i]);return e}function Mr(r,t,n){var e,i=r.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var u="",o=t;o<n;++o)u+=(e=r[o])<16?"0"+e.toString(16):e.toString(16);return u}function Br(r,t,n){for(var e=r.slice(t,n),i="",u=0;u<e.length;u+=2)i+=String.fromCharCode(e[u]+256*e[u+1]);return i}function Rr(r,t,n){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+t>n)throw new RangeError("Trying to access beyond buffer length")}function Tr(r,t,n,e,i,u){if(!fr(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<u)throw new RangeError('"value" argument is out of bounds');if(n+e>r.length)throw new RangeError("Index out of range")}function xr(r,t,n,e){t<0&&(t=65535+t+1);for(var i=0,u=Math.min(r.length-n,2);i<u;++i)r[n+i]=(t&255<<8*(e?i:1-i))>>>8*(e?i:1-i)}function kr(r,t,n,e){t<0&&(t=4294967295+t+1);for(var i=0,u=Math.min(r.length-n,4);i<u;++i)r[n+i]=t>>>8*(e?i:3-i)&255}function Nr(r,t,n,e){if(n+e>r.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Ir(r,t,n,e,i){return i||Nr(r,0,n,4),H(r,t,n,e,23,4),n+4}function Ur(r,t,n,e,i){return i||Nr(r,0,n,8),H(r,t,n,e,52,8),n+8}tr.poolSize=8192,tr._augment=function(r){return r.__proto__=tr.prototype,r},tr.from=function(r,t,n){return nr(null,r,t,n)},tr.TYPED_ARRAY_SUPPORT&&(tr.prototype.__proto__=Uint8Array.prototype,tr.__proto__=Uint8Array),tr.alloc=function(r,t,n){return function(r,t,n,e){return er(t),t<=0?rr(r,t):void 0!==n?"string"==typeof e?rr(r,t).fill(n,e):rr(r,t).fill(n):rr(r,t)}(null,r,t,n)},tr.allocUnsafe=function(r){return ir(null,r)},tr.allocUnsafeSlow=function(r){return ir(null,r)},tr.isBuffer=Cr,tr.compare=function(r,t){if(!fr(r)||!fr(t))throw new TypeError("Arguments must be Buffers");if(r===t)return 0;for(var n=r.length,e=t.length,i=0,u=Math.min(n,e);i<u;++i)if(r[i]!==t[i]){n=r[i],e=t[i];break}return n<e?-1:e<n?1:0},tr.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},tr.concat=function(r,t){if(!G(r))throw new TypeError('"list" argument must be an Array of Buffers');if(0===r.length)return tr.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<r.length;++n)t+=r[n].length;var e=tr.allocUnsafe(t),i=0;for(n=0;n<r.length;++n){var u=r[n];if(!fr(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(e,i),i+=u.length}return e},tr.byteLength=ar,tr.prototype._isBuffer=!0,tr.prototype.swap16=function(){var r=this.length;if(r%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<r;t+=2)cr(this,t,t+1);return this},tr.prototype.swap32=function(){var r=this.length;if(r%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<r;t+=4)cr(this,t,t+3),cr(this,t+1,t+2);return this},tr.prototype.swap64=function(){var r=this.length;if(r%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<r;t+=8)cr(this,t,t+7),cr(this,t+1,t+6),cr(this,t+2,t+5),cr(this,t+3,t+4);return this},tr.prototype.toString=function(){var r=0|this.length;return 0===r?"":0===arguments.length?br(this,0,r):sr.apply(this,arguments)},tr.prototype.equals=function(r){if(!fr(r))throw new TypeError("Argument must be a Buffer");return this===r||0===tr.compare(this,r)},tr.prototype.inspect=function(){var r="";return this.length>0&&(r=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(r+=" ... ")),"<Buffer "+r+">"},tr.prototype.compare=function(r,t,n,e,i){if(!fr(r))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=r?r.length:0),void 0===e&&(e=0),void 0===i&&(i=this.length),t<0||n>r.length||e<0||i>this.length)throw new RangeError("out of range index");if(e>=i&&t>=n)return 0;if(e>=i)return-1;if(t>=n)return 1;if(this===r)return 0;for(var u=(i>>>=0)-(e>>>=0),o=(n>>>=0)-(t>>>=0),f=Math.min(u,o),a=this.slice(e,i),s=r.slice(t,n),c=0;c<f;++c)if(a[c]!==s[c]){u=a[c],o=s[c];break}return u<o?-1:o<u?1:0},tr.prototype.includes=function(r,t,n){return-1!==this.indexOf(r,t,n)},tr.prototype.indexOf=function(r,t,n){return hr(this,r,t,n,!0)},tr.prototype.lastIndexOf=function(r,t,n){return hr(this,r,t,n,!1)},tr.prototype.write=function(r,t,n,e){if(void 0===t)e="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)e=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===e&&(e="utf8")):(e=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),r.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");e||(e="utf8");for(var u=!1;;)switch(e){case"hex":return wr(this,r,t,n);case"utf8":case"utf-8":return lr(this,r,t,n);case"ascii":return dr(this,r,t,n);case"latin1":case"binary":return gr(this,r,t,n);case"base64":return yr(this,r,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pr(this,r,t,n);default:if(u)throw new TypeError("Unknown encoding: "+e);e=(""+e).toLowerCase(),u=!0}},tr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},tr.prototype.slice=function(r,t){var n,e=this.length;if((r=~~r)<0?(r+=e)<0&&(r=0):r>e&&(r=e),(t=void 0===t?e:~~t)<0?(t+=e)<0&&(t=0):t>e&&(t=e),t<r&&(t=r),tr.TYPED_ARRAY_SUPPORT)(n=this.subarray(r,t)).__proto__=tr.prototype;else{var i=t-r;n=new tr(i,void 0);for(var u=0;u<i;++u)n[u]=this[u+r]}return n},tr.prototype.readUIntLE=function(r,t,n){r|=0,t|=0,n||Rr(r,t,this.length);for(var e=this[r],i=1,u=0;++u<t&&(i*=256);)e+=this[r+u]*i;return e},tr.prototype.readUIntBE=function(r,t,n){r|=0,t|=0,n||Rr(r,t,this.length);for(var e=this[r+--t],i=1;t>0&&(i*=256);)e+=this[r+--t]*i;return e},tr.prototype.readUInt8=function(r,t){return t||Rr(r,1,this.length),this[r]},tr.prototype.readUInt16LE=function(r,t){return t||Rr(r,2,this.length),this[r]|this[r+1]<<8},tr.prototype.readUInt16BE=function(r,t){return t||Rr(r,2,this.length),this[r]<<8|this[r+1]},tr.prototype.readUInt32LE=function(r,t){return t||Rr(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+16777216*this[r+3]},tr.prototype.readUInt32BE=function(r,t){return t||Rr(r,4,this.length),16777216*this[r]+(this[r+1]<<16|this[r+2]<<8|this[r+3])},tr.prototype.readIntLE=function(r,t,n){r|=0,t|=0,n||Rr(r,t,this.length);for(var e=this[r],i=1,u=0;++u<t&&(i*=256);)e+=this[r+u]*i;return e>=(i*=128)&&(e-=Math.pow(2,8*t)),e},tr.prototype.readIntBE=function(r,t,n){r|=0,t|=0,n||Rr(r,t,this.length);for(var e=t,i=1,u=this[r+--e];e>0&&(i*=256);)u+=this[r+--e]*i;return u>=(i*=128)&&(u-=Math.pow(2,8*t)),u},tr.prototype.readInt8=function(r,t){return t||Rr(r,1,this.length),128&this[r]?-1*(255-this[r]+1):this[r]},tr.prototype.readInt16LE=function(r,t){t||Rr(r,2,this.length);var n=this[r]|this[r+1]<<8;return 32768&n?4294901760|n:n},tr.prototype.readInt16BE=function(r,t){t||Rr(r,2,this.length);var n=this[r+1]|this[r]<<8;return 32768&n?4294901760|n:n},tr.prototype.readInt32LE=function(r,t){return t||Rr(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},tr.prototype.readInt32BE=function(r,t){return t||Rr(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},tr.prototype.readFloatLE=function(r,t){return t||Rr(r,4,this.length),D(this,r,!0,23,4)},tr.prototype.readFloatBE=function(r,t){return t||Rr(r,4,this.length),D(this,r,!1,23,4)},tr.prototype.readDoubleLE=function(r,t){return t||Rr(r,8,this.length),D(this,r,!0,52,8)},tr.prototype.readDoubleBE=function(r,t){return t||Rr(r,8,this.length),D(this,r,!1,52,8)},tr.prototype.writeUIntLE=function(r,t,n,e){r=+r,t|=0,n|=0,e||Tr(this,r,t,n,Math.pow(2,8*n)-1,0);var i=1,u=0;for(this[t]=255&r;++u<n&&(i*=256);)this[t+u]=r/i&255;return t+n},tr.prototype.writeUIntBE=function(r,t,n,e){r=+r,t|=0,n|=0,e||Tr(this,r,t,n,Math.pow(2,8*n)-1,0);var i=n-1,u=1;for(this[t+i]=255&r;--i>=0&&(u*=256);)this[t+i]=r/u&255;return t+n},tr.prototype.writeUInt8=function(r,t,n){return r=+r,t|=0,n||Tr(this,r,t,1,255,0),tr.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[t]=255&r,t+1},tr.prototype.writeUInt16LE=function(r,t,n){return r=+r,t|=0,n||Tr(this,r,t,2,65535,0),tr.TYPED_ARRAY_SUPPORT?(this[t]=255&r,this[t+1]=r>>>8):xr(this,r,t,!0),t+2},tr.prototype.writeUInt16BE=function(r,t,n){return r=+r,t|=0,n||Tr(this,r,t,2,65535,0),tr.TYPED_ARRAY_SUPPORT?(this[t]=r>>>8,this[t+1]=255&r):xr(this,r,t,!1),t+2},tr.prototype.writeUInt32LE=function(r,t,n){return r=+r,t|=0,n||Tr(this,r,t,4,4294967295,0),tr.TYPED_ARRAY_SUPPORT?(this[t+3]=r>>>24,this[t+2]=r>>>16,this[t+1]=r>>>8,this[t]=255&r):kr(this,r,t,!0),t+4},tr.prototype.writeUInt32BE=function(r,t,n){return r=+r,t|=0,n||Tr(this,r,t,4,4294967295,0),tr.TYPED_ARRAY_SUPPORT?(this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=255&r):kr(this,r,t,!1),t+4},tr.prototype.writeIntLE=function(r,t,n,e){if(r=+r,t|=0,!e){var i=Math.pow(2,8*n-1);Tr(this,r,t,n,i-1,-i)}var u=0,o=1,f=0;for(this[t]=255&r;++u<n&&(o*=256);)r<0&&0===f&&0!==this[t+u-1]&&(f=1),this[t+u]=(r/o>>0)-f&255;return t+n},tr.prototype.writeIntBE=function(r,t,n,e){if(r=+r,t|=0,!e){var i=Math.pow(2,8*n-1);Tr(this,r,t,n,i-1,-i)}var u=n-1,o=1,f=0;for(this[t+u]=255&r;--u>=0&&(o*=256);)r<0&&0===f&&0!==this[t+u+1]&&(f=1),this[t+u]=(r/o>>0)-f&255;return t+n},tr.prototype.writeInt8=function(r,t,n){return r=+r,t|=0,n||Tr(this,r,t,1,127,-128),tr.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),r<0&&(r=255+r+1),this[t]=255&r,t+1},tr.prototype.writeInt16LE=function(r,t,n){return r=+r,t|=0,n||Tr(this,r,t,2,32767,-32768),tr.TYPED_ARRAY_SUPPORT?(this[t]=255&r,this[t+1]=r>>>8):xr(this,r,t,!0),t+2},tr.prototype.writeInt16BE=function(r,t,n){return r=+r,t|=0,n||Tr(this,r,t,2,32767,-32768),tr.TYPED_ARRAY_SUPPORT?(this[t]=r>>>8,this[t+1]=255&r):xr(this,r,t,!1),t+2},tr.prototype.writeInt32LE=function(r,t,n){return r=+r,t|=0,n||Tr(this,r,t,4,2147483647,-2147483648),tr.TYPED_ARRAY_SUPPORT?(this[t]=255&r,this[t+1]=r>>>8,this[t+2]=r>>>16,this[t+3]=r>>>24):kr(this,r,t,!0),t+4},tr.prototype.writeInt32BE=function(r,t,n){return r=+r,t|=0,n||Tr(this,r,t,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),tr.TYPED_ARRAY_SUPPORT?(this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=255&r):kr(this,r,t,!1),t+4},tr.prototype.writeFloatLE=function(r,t,n){return Ir(this,r,t,!0,n)},tr.prototype.writeFloatBE=function(r,t,n){return Ir(this,r,t,!1,n)},tr.prototype.writeDoubleLE=function(r,t,n){return Ur(this,r,t,!0,n)},tr.prototype.writeDoubleBE=function(r,t,n){return Ur(this,r,t,!1,n)},tr.prototype.copy=function(r,t,n,e){if(n||(n=0),e||0===e||(e=this.length),t>=r.length&&(t=r.length),t||(t=0),e>0&&e<n&&(e=n),e===n)return 0;if(0===r.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(e<0)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),r.length-t<e-n&&(e=r.length-t+n);var i,u=e-n;if(this===r&&n<t&&t<e)for(i=u-1;i>=0;--i)r[i+t]=this[i+n];else if(u<1e3||!tr.TYPED_ARRAY_SUPPORT)for(i=0;i<u;++i)r[i+t]=this[i+n];else Uint8Array.prototype.set.call(r,this.subarray(n,n+u),t);return u},tr.prototype.fill=function(r,t,n,e){if("string"==typeof r){if("string"==typeof t?(e=t,t=0,n=this.length):"string"==typeof n&&(e=n,n=this.length),1===r.length){var i=r.charCodeAt(0);i<256&&(r=i)}if(void 0!==e&&"string"!=typeof e)throw new TypeError("encoding must be a string");if("string"==typeof e&&!tr.isEncoding(e))throw new TypeError("Unknown encoding: "+e)}else"number"==typeof r&&(r&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var u;if(t>>>=0,n=void 0===n?this.length:n>>>0,r||(r=0),"number"==typeof r)for(u=t;u<n;++u)this[u]=r;else{var o=fr(r)?r:Fr(new tr(r,e).toString()),f=o.length;for(u=0;u<n-t;++u)this[u+t]=o[u%f]}return this};var Sr=/[^+\/0-9A-Za-z-_]/g;function Fr(r,t){var n;t=t||1/0;for(var e=r.length,i=null,u=[],o=0;o<e;++o){if((n=r.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&u.push(239,191,189);continue}if(o+1===e){(t-=3)>-1&&u.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&u.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&u.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;u.push(n)}else if(n<2048){if((t-=2)<0)break;u.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;u.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;u.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return u}function _r(r){return function(r){var t,n,e,i,u,o;J||K();var f=r.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=new q(3*f/4-(u="="===r[f-2]?2:"="===r[f-1]?1:0)),e=u>0?f-4:f;var a=0;for(t=0,n=0;t<e;t+=4,n+=3)i=Z[r.charCodeAt(t)]<<18|Z[r.charCodeAt(t+1)]<<12|Z[r.charCodeAt(t+2)]<<6|Z[r.charCodeAt(t+3)],o[a++]=i>>16&255,o[a++]=i>>8&255,o[a++]=255&i;return 2===u?(i=Z[r.charCodeAt(t)]<<2|Z[r.charCodeAt(t+1)]>>4,o[a++]=255&i):1===u&&(i=Z[r.charCodeAt(t)]<<10|Z[r.charCodeAt(t+1)]<<4|Z[r.charCodeAt(t+2)]>>2,o[a++]=i>>8&255,o[a++]=255&i),o}(function(r){if((r=function(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}(r).replace(Sr,"")).length<2)return"";for(;r.length%4!=0;)r+="=";return r}(r))}function Pr(r,t,n,e){for(var i=0;i<e&&!(i+n>=t.length||i>=r.length);++i)t[i+n]=r[i];return i}function Cr(r){return null!=r&&(!!r._isBuffer||jr(r)||function(r){return"function"==typeof r.readFloatLE&&"function"==typeof r.slice&&jr(r.slice(0,0))}(r))}function jr(r){return!!r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)}var zr=i(Object.freeze({__proto__:null,Buffer:tr,INSPECT_MAX_BYTES:50,SlowBuffer:function(r){return+r!=r&&(r=0),tr.alloc(+r)},isBuffer:Cr,kMaxLength:V})).Buffer;function $r(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}$r.prototype.initialize=function(r){this.degree=r,this.genPoly=O.generateECPolynomial(this.degree)},$r.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");var t=p(this.degree),n=zr.concat([r,t],r.length+this.degree),e=O.mod(n,this.genPoly),i=this.degree-e.length;if(i>0){var u=p(this.degree);return e.copy(u,i),u}return e};var Lr=$r,Or=function(r){return!isNaN(r)&&r>=1&&r<=40},Qr="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",Zr="(?:(?![A-Z0-9 $%*+\\-./:]|"+(Qr=Qr.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+",qr=new RegExp(Qr,"g"),Jr=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Kr=new RegExp(Zr,"g"),Yr=new RegExp("[0-9]+","g"),Dr=new RegExp("[A-Z $%*+\\-./:]+","g"),Hr=new RegExp("^"+Qr+"$"),Xr=new RegExp("^[0-9]+$"),Gr=new RegExp("^[A-Z0-9 $%*+\\-./:]+$"),Vr={KANJI:qr,BYTE_KANJI:Jr,BYTE:Kr,NUMERIC:Yr,ALPHANUMERIC:Dr,testKanji:function(r){return Hr.test(r)},testNumeric:function(r){return Xr.test(r)},testAlphanumeric:function(r){return Gr.test(r)}},Wr=n((function(r,t){t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(r,t){if(!r.ccBits)throw new Error("Invalid mode: "+r);if(!Or(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?r.ccBits[0]:t<27?r.ccBits[1]:r.ccBits[2]},t.getBestModeForData=function(r){return Vr.testNumeric(r)?t.NUMERIC:Vr.testAlphanumeric(r)?t.ALPHANUMERIC:Vr.testKanji(r)?t.KANJI:t.BYTE},t.toString=function(r){if(r&&r.id)return r.id;throw new Error("Invalid mode")},t.isValid=function(r){return r&&r.bit&&r.ccBits},t.from=function(r,n){if(t.isValid(r))return r;try{return function(r){if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+r)}}(r)}catch(r){return n}}})),rt=n((function(r,t){var n=M(7973);function e(r,t){return Wr.getCharCountIndicator(r,t)+4}function i(r,t){var n=0;return r.forEach((function(r){var i=e(r.mode,t);n+=i+r.getBitsLength()})),n}t.from=function(r,t){return Or(r)?parseInt(r,10):t},t.getCapacity=function(r,t,n){if(!Or(r))throw new Error("Invalid QR Code version");void 0===n&&(n=Wr.BYTE);var i=8*(A(r)-j(r,t));if(n===Wr.MIXED)return i;var u=i-e(n,r);switch(n){case Wr.NUMERIC:return Math.floor(u/10*3);case Wr.ALPHANUMERIC:return Math.floor(u/11*2);case Wr.KANJI:return Math.floor(u/13);case Wr.BYTE:default:return Math.floor(u/8)}},t.getBestVersionForData=function(r,n){var e,u=T.from(n,T.M);if(a(r)){if(r.length>1)return function(r,n){for(var e=1;e<=40;e++)if(i(r,e)<=t.getCapacity(e,n,Wr.MIXED))return e}(r,u);if(0===r.length)return 1;e=r[0]}else e=r;return function(r,n,e){for(var i=1;i<=40;i++)if(n<=t.getCapacity(i,e,r))return i}(e.mode,e.getLength(),u)},t.getEncodedBits=function(r){if(!Or(r)||r<7)throw new Error("Invalid QR Code version");for(var t=r<<12;M(t)-n>=0;)t^=7973<<M(t)-n;return r<<12|t}})),tt=M(1335);function nt(r){this.mode=Wr.NUMERIC,this.data=r.toString()}nt.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},nt.prototype.getLength=function(){return this.data.length},nt.prototype.getBitsLength=function(){return nt.getBitsLength(this.data.length)},nt.prototype.write=function(r){var t,n,e;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),e=parseInt(n,10),r.put(e,10);var i=this.data.length-t;i>0&&(n=this.data.substr(t),e=parseInt(n,10),r.put(e,3*i+1))};var et=nt,it=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ut(r){this.mode=Wr.ALPHANUMERIC,this.data=r}ut.getBitsLength=function(r){return 11*Math.floor(r/2)+r%2*6},ut.prototype.getLength=function(){return this.data.length},ut.prototype.getBitsLength=function(){return ut.getBitsLength(this.data.length)},ut.prototype.write=function(r){var t;for(t=0;t+2<=this.data.length;t+=2){var n=45*it.indexOf(this.data[t]);n+=it.indexOf(this.data[t+1]),r.put(n,11)}this.data.length%2&&r.put(it.indexOf(this.data[t]),6)};var ot=ut;function ft(r){this.mode=Wr.BYTE,this.data=m(r)}ft.getBitsLength=function(r){return 8*r},ft.prototype.getLength=function(){return this.data.length},ft.prototype.getBitsLength=function(){return ft.getBitsLength(this.data.length)},ft.prototype.write=function(r){for(var t=0,n=this.data.length;t<n;t++)r.put(this.data[t],8)};var at=ft;function st(r){this.mode=Wr.KANJI,this.data=r}st.getBitsLength=function(r){return 13*r},st.prototype.getLength=function(){return this.data.length},st.prototype.getBitsLength=function(){return st.getBitsLength(this.data.length)},st.prototype.write=function(r){var t;for(t=0;t<this.data.length;t++){var n=R(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}r.put(n=192*(n>>>8&255)+(255&n),13)}};var ct=st,ht=n((function(r){var t={single_source_shortest_paths:function(r,n,e){var i={},u={};u[n]=0;var o,f,a,s,c,h,v=t.PriorityQueue.make();for(v.push(n,0);!v.empty();)for(a in s=(o=v.pop()).cost,c=r[f=o.value]||{})c.hasOwnProperty(a)&&(h=s+c[a],(void 0===u[a]||u[a]>h)&&(u[a]=h,v.push(a,h),i[a]=f));if(void 0!==e&&void 0===u[e]){var w=["Could not find a path from ",n," to ",e,"."].join("");throw new Error(w)}return i},extract_shortest_path_from_predecessor_list:function(r,t){for(var n=[],e=t;e;)n.push(e),e=r[e];return n.reverse(),n},find_path:function(r,n,e){var i=t.single_source_shortest_paths(r,n,e);return t.extract_shortest_path_from_predecessor_list(i,e)},PriorityQueue:{make:function(r){var n,e=t.PriorityQueue,i={};for(n in r=r||{},e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i.queue=[],i.sorter=r.sorter||e.default_sorter,i},default_sorter:function(r,t){return r.cost-t.cost},push:function(r,t){this.queue.push({value:r,cost:t}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};r.exports=t})),vt=n((function(r,t){function n(r){return unescape(encodeURIComponent(r)).length}function e(r,t,n){for(var e,i=[];null!==(e=r.exec(n));)i.push({data:e[0],index:e.index,mode:t,length:e[0].length});return i}function i(r){var t,n,i=e(Vr.NUMERIC,Wr.NUMERIC,r),u=e(Vr.ALPHANUMERIC,Wr.ALPHANUMERIC,r);return B()?(t=e(Vr.BYTE,Wr.BYTE,r),n=e(Vr.KANJI,Wr.KANJI,r)):(t=e(Vr.BYTE_KANJI,Wr.BYTE,r),n=[]),i.concat(u,t,n).sort((function(r,t){return r.index-t.index})).map((function(r){return{data:r.data,mode:r.mode,length:r.length}}))}function u(r,t){switch(t){case Wr.NUMERIC:return et.getBitsLength(r);case Wr.ALPHANUMERIC:return ot.getBitsLength(r);case Wr.KANJI:return ct.getBitsLength(r);case Wr.BYTE:return at.getBitsLength(r)}}function o(r,t){var n,e=Wr.getBestModeForData(r);if((n=Wr.from(t,e))!==Wr.BYTE&&n.bit<e.bit)throw new Error('"'+r+'" cannot be encoded with mode '+Wr.toString(n)+".\n Suggested mode is: "+Wr.toString(e));switch(n!==Wr.KANJI||B()||(n=Wr.BYTE),n){case Wr.NUMERIC:return new et(r);case Wr.ALPHANUMERIC:return new ot(r);case Wr.KANJI:return new ct(r);case Wr.BYTE:return new at(r)}}t.fromArray=function(r){return r.reduce((function(r,t){return"string"==typeof t?r.push(o(t,null)):t.data&&r.push(o(t.data,t.mode)),r}),[])},t.fromString=function(r,e){for(var o=function(r,t){for(var n={},e={start:{}},i=["start"],o=0;o<r.length;o++){for(var f=r[o],a=[],s=0;s<f.length;s++){var c=f[s],h=""+o+s;a.push(h),n[h]={node:c,lastCount:0},e[h]={};for(var v=0;v<i.length;v++){var w=i[v];n[w]&&n[w].node.mode===c.mode?(e[w][h]=u(n[w].lastCount+c.length,c.mode)-u(n[w].lastCount,c.mode),n[w].lastCount+=c.length):(n[w]&&(n[w].lastCount=c.length),e[w][h]=u(c.length,c.mode)+4+Wr.getCharCountIndicator(c.mode,t))}}i=a}for(v=0;v<i.length;v++)e[i[v]].end=0;return{map:e,table:n}}(function(r){for(var t=[],e=0;e<r.length;e++){var i=r[e];switch(i.mode){case Wr.NUMERIC:t.push([i,{data:i.data,mode:Wr.ALPHANUMERIC,length:i.length},{data:i.data,mode:Wr.BYTE,length:i.length}]);break;case Wr.ALPHANUMERIC:t.push([i,{data:i.data,mode:Wr.BYTE,length:i.length}]);break;case Wr.KANJI:t.push([i,{data:i.data,mode:Wr.BYTE,length:n(i.data)}]);break;case Wr.BYTE:t.push([{data:i.data,mode:Wr.BYTE,length:n(i.data)}])}}return t}(i(r,B())),e),f=ht.find_path(o.map,"start","end"),a=[],s=1;s<f.length-1;s++)a.push(o.table[f[s]].node);return t.fromArray(a.reduce((function(r,t){var n=r.length-1>=0?r[r.length-1]:null;return n&&n.mode===t.mode?(r[r.length-1].data+=t.data,r):(r.push(t),r)}),[]))},t.rawSplit=function(r){return t.fromArray(i(r,B()))}}));function wt(r,t,n){var e,i,u=r.size,o=function(r,t){for(var n=r.bit<<3|t,e=n<<10;M(e)-tt>=0;)e^=1335<<M(e)-tt;return 21522^(n<<10|e)}(t,n);for(e=0;e<15;e++)r.set(e<6?e:e<8?e+1:u-15+e,8,i=1==(o>>e&1),!0),r.set(8,e<8?u-e-1:e<9?15-e-1+1:15-e-1,i,!0);r.set(u-8,8,1,!0)}function lt(r,t,n,e){var i;if(a(r))i=vt.fromArray(r);else{if("string"!=typeof r)throw new Error("Invalid data");var u=t;if(!u){var o=vt.rawSplit(r);u=rt.getBestVersionForData(o,n)}i=vt.fromString(r,u||40)}var f=rt.getBestVersionForData(i,n);if(!f)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<f)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+f+".\n")}else t=f;var s=function(r,t,n){var e=new k;n.forEach((function(t){e.put(t.mode.bit,4),e.put(t.getLength(),Wr.getCharCountIndicator(t.mode,r)),t.write(e)}));var i=8*(A(r)-j(r,t));for(e.getLengthInBits()+4<=i&&e.put(0,4);e.getLengthInBits()%8!=0;)e.putBit(0);for(var u=(i-e.getLengthInBits())/8,o=0;o<u;o++)e.put(o%2?17:236,8);return function(r,t,n){for(var e=A(t),i=e-j(t,n),u=C(t,n),o=u-e%u,f=Math.floor(e/u),a=Math.floor(i/u),s=a+1,c=f-a,h=new Lr(c),v=0,w=new Array(u),l=new Array(u),d=0,g=m(r.buffer),y=0;y<u;y++){var b=y<o?a:s;w[y]=g.slice(v,v+b),l[y]=h.encode(w[y]),v+=b,d=Math.max(d,b)}var E,M,B=p(e),R=0;for(E=0;E<d;E++)for(M=0;M<u;M++)E<w[M].length&&(B[R++]=w[M][E]);for(E=0;E<c;E++)for(M=0;M<u;M++)B[R++]=l[M][E];return B}(e,r,t)}(t,n,i),c=E(t),h=new I(c);return function(r,t){for(var n=r.size,e=function(r){var t=S(r);return[[0,0],[t-7,0],[0,t-7]]}(t),i=0;i<e.length;i++)for(var u=e[i][0],o=e[i][1],f=-1;f<=7;f++)if(!(u+f<=-1||n<=u+f))for(var a=-1;a<=7;a++)o+a<=-1||n<=o+a||r.set(u+f,o+a,f>=0&&f<=6&&(0===a||6===a)||a>=0&&a<=6&&(0===f||6===f)||f>=2&&f<=4&&a>=2&&a<=4,!0)}(h,t),function(r){for(var t=r.size,n=8;n<t-8;n++){var e=n%2==0;r.set(n,6,e,!0),r.set(6,n,e,!0)}}(h),function(r,t){for(var n=U.getPositions(t),e=0;e<n.length;e++)for(var i=n[e][0],u=n[e][1],o=-2;o<=2;o++)for(var f=-2;f<=2;f++)r.set(i+o,u+f,-2===o||2===o||-2===f||2===f||0===o&&0===f,!0)}(h,t),wt(h,n,0),t>=7&&function(r,t){for(var n,e,i,u=r.size,o=rt.getEncodedBits(t),f=0;f<18;f++)n=Math.floor(f/3),r.set(n,e=f%3+u-8-3,i=1==(o>>f&1),!0),r.set(e,n,i,!0)}(h,t),function(r,t){for(var n=r.size,e=-1,i=n-1,u=7,o=0,f=n-1;f>0;f-=2)for(6===f&&f--;;){for(var a=0;a<2;a++)if(!r.isReserved(i,f-a)){var s=!1;o<t.length&&(s=1==(t[o]>>>u&1)),r.set(i,f-a,s),-1==--u&&(o++,u=7)}if((i+=e)<0||n<=i){i-=e,e=-e;break}}}(h,s),isNaN(e)&&(e=F.getBestMask(h,wt.bind(null,h,n))),F.applyMask(e,h),wt(h,n,e),{modules:h,version:t,errorCorrectionLevel:n,maskPattern:e,segments:i}}var dt=function(r,t){if(void 0===r||""===r)throw new Error("No input text");var n,e,i=T.M;return void 0!==t&&(i=T.from(t.errorCorrectionLevel,T.M),n=rt.from(t.version),e=F.from(t.maskPattern),t.toSJISFunc&&function(r){if("function"!=typeof r)throw new Error('"toSJISFunc" is not a valid function.');y=r}(t.toSJISFunc)),lt(r,n,i,e)},gt=n((function(r,t){function n(r){if("number"==typeof r&&(r=r.toString()),"string"!=typeof r)throw new Error("Color should be defined as hex string");var t=r.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+r);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(r){return[r,r]})))),6===t.length&&t.push("F","F");var n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});var t=r.width&&r.width>=21?r.width:void 0;return{width:t,scale:t?4:r.scale||4,margin:null==r.margin||r.margin<0?4:r.margin,color:{dark:n(r.color.dark||"#000000ff"),light:n(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,t){return t.width&&t.width>=r+2*t.margin?t.width/(r+2*t.margin):t.scale},t.getImageWidth=function(r,n){var e=t.getScale(r,n);return Math.floor((r+2*n.margin)*e)},t.qrToImageData=function(r,n,e){for(var i=n.modules.size,u=n.modules.data,o=t.getScale(i,e),f=Math.floor((i+2*e.margin)*o),a=e.margin*o,s=[e.color.light,e.color.dark],c=0;c<f;c++)for(var h=0;h<f;h++){var v=4*(c*f+h),w=e.color.light;c>=a&&h>=a&&c<f-a&&h<f-a&&(w=s[u[Math.floor((c-a)/o)*i+Math.floor((h-a)/o)]?1:0]),r[v++]=w.r,r[v++]=w.g,r[v++]=w.b,r[v]=w.a}}})),yt=n((function(r,t){t.render=function(r,t,n){var e=n,i=t;void 0!==e||t&&t.getContext||(e=t,t=void 0),t||(i=function(){try{return document.createElement("canvas")}catch(r){throw new Error("You need to specify a canvas element")}}()),e=gt.getOptions(e);var u=gt.getImageWidth(r.modules.size,e),o=i.getContext("2d"),f=o.createImageData(u,u);return gt.qrToImageData(f.data,r,e),function(r,t,n){r.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(o,i,u),o.putImageData(f,0,0),i},t.renderToDataURL=function(r,n,e){var i=e;return void 0!==i||n&&n.getContext||(i=n,n=void 0),i||(i={}),t.render(r,n,i).toDataURL(i.type||"image/png",(i.rendererOpts||{}).quality)}}));function pt(r,t){var n=r.a/255,e=t+'="'+r.hex+'"';return n<1?e+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':e}function mt(r,t,n){var e=r+t;return void 0!==n&&(e+=" "+n),e}function bt(r,t,n,e,i){var u=[].slice.call(arguments,1),f=u.length,a="function"==typeof u[f-1];if(!a&&!o())throw new Error("Callback required as last argument");if(!a){if(f<1)throw new Error("Too few arguments provided");return 1===f?(n=t,t=e=void 0):2!==f||t.getContext||(e=n,n=t,t=void 0),new Promise((function(i,u){try{var o=dt(n,e);i(r(o,t,e))}catch(r){u(r)}}))}if(f<2)throw new Error("Too few arguments provided");2===f?(i=n,n=t,t=e=void 0):3===f&&(t.getContext&&void 0===i?(i=e,e=void 0):(i=e,e=n,n=t,t=void 0));try{var s=dt(n,e);i(null,r(s,t,e))}catch(r){i(r)}}bt.bind(null,yt.render);var Et=bt.bind(null,yt.renderToDataURL);bt.bind(null,(function(r,t,n){return function(r,t,n){var e=gt.getOptions(t),i=r.modules.size,u=r.modules.data,o=i+2*e.margin,f=e.color.light.a?"<path "+pt(e.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",a="<path "+pt(e.color.dark,"stroke")+' d="'+function(r,t,n){for(var e="",i=0,u=!1,o=0,f=0;f<r.length;f++){var a=Math.floor(f%t),s=Math.floor(f/t);a||u||(u=!0),r[f]?(o++,f>0&&a>0&&r[f-1]||(e+=u?mt("M",a+n,.5+s+n):mt("m",i,0),i=0,u=!1),a+1<t&&r[f+1]||(e+=mt("h",o),o=0)):i++}return e}(u,i,e.margin)+'"/>',s='<svg xmlns="http://www.w3.org/2000/svg" '+(e.width?'width="'+e.width+'" height="'+e.width+'" ':"")+'viewBox="0 0 '+o+" "+o+'" shape-rendering="crispEdges">'+f+a+"</svg>\n";return"function"==typeof n&&n(null,s),s}(r,n)}));const At=class{constructor(t){r(this,t)}connectedCallback(){Et("iota://"+this.address,((r,t)=>{this.qrCodeBase64=t}))}render(){return t("div",null,t("p",null,"Scan with ",t("a",{href:"//firefly.iota.org",target:"new"},"Firefly")),t("a",{href:u.getPayUrl(this.address,this.amount),target:"new"},t("img",{class:"m-4",src:this.qrCodeBase64})),t("p",{class:"break-all w-48 text-xs"},this.address))}};At.style=".w-48 { width: 12rem; } \n.break-all { word-break: break-all; } \n.text-xs { font-size: 0.75rem; } \n.m-4 { margin: 1rem; } \n ";export{At as ibtn_qr_payment}